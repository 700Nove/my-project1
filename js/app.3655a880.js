(function(){var t={193:function(t,e,a){"use strict";a.d(e,{A:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hints-wrapper"},[e("div",{staticClass:"hint-title"},[e("i",{staticClass:"vue-dsn-icon-tishi"}),e("span",[t._t("hintName")],2)]),e("div",{staticClass:"hint-info"},[t._t("hintInfo")],2)])},i=[],r={name:"Hints"},o=r,n=a(1656),l=(0,n.A)(o,s,i,!1,null,null,null),c=l.exports},1184:function(t,e,a){"use strict";a.d(e,{A:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pagination-wrapper"},[e("el-pagination",{attrs:{background:t.background,"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,total:t.total,layout:t.layout},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[],r={name:"Pagination",props:{page:{type:Number,default:1,required:!0},limit:{type:Number,default:10,required:!0},background:{type:Boolean,default:!0},pageSizes:{type:Array,default:()=>[10,15,20,50]},total:{type:Number,default:0,required:!0},layout:{type:String,default:"total, prev, pager, next, sizes, jumper"}},computed:{currentPage:{get(){return this.page},set(t){this.$emit("update:page",t)}},pageSize:{get(){return this.limit},set(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange(t){this.$emit("pagination",{page:this.currentPage,limit:t})},handleCurrentChange(t){this.$emit("pagination",{page:t,limit:this.pageSize})}}},o=r,n=a(1656),l=(0,n.A)(o,s,i,!1,null,null,null),c=l.exports},1867:function(t,e,a){"use strict";a.d(e,{A:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("el-upload",{staticClass:"files-upload",attrs:{action:t.url,accept:t.filesFormat,multiple:t.isMultiple,"show-file-list":t.isShowList,"on-success":t.uploadSuccess,"on-error":t.uploadError}},[t._t("default")],2)},i=[],r={name:"Upload",props:{url:{type:String,default:""},filesFormat:{type:String,default:""},isMultiple:{type:Boolean,default:!1},isShowList:{type:Boolean,default:!1}},methods:{uploadSuccess(t,e){if([200,0].includes(t.code)){const e=t.data;this.$emit("on-success",e)}else this.$emit("on-error"),this.$message.error(t.msg)},uploadError(t,e){this.$emit("on-error")}}},o=r,n=a(1656),l=(0,n.A)(o,s,i,!1,null,null,null),c=l.exports},3010:function(t,e,a){"use strict";a.d(e,{A:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("el-dropdown",{staticClass:"user-avatar-wrapper",on:{command:t.handleCommand}},[e("div",{staticClass:"avatar-box"},[e("el-avatar",{attrs:{size:"small",src:this.HOST+"/"+this.userInfo.avatar}}),e("span",{staticClass:"username"},[t._v(t._s(t.userInfo.username))]),e("i",{staticClass:"el-icon-caret-bottom"})],1),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"userCenter"}},[t._v("个人中心")]),e("el-dropdown-item",{attrs:{command:"loginOut"}},[t._v("退出登录")])],1)],1)},i=[],r=(a(4114),{inject:["userInfo"],created(){},name:"UserAvatar",data(){return{imgBaseUrl:this.HOST}},methods:{handleCommand(t){"userCenter"===t&&this.$router.push({path:"/personInfo"}),"loginOut"===t&&this.loginOut()},loginOut(){this.$confirm("确定注销并退出系统吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{sessionStorage.removeItem("user"),this.$router.push({path:"/login"})}))}}}),o=r,n=a(1656),l=(0,n.A)(o,s,i,!1,null,null,null),c=l.exports},2549:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"adopt-container"},[t._m(0),e("div",{staticClass:"search-section"},[e("el-form",{staticClass:"search-form",attrs:{inline:!0,model:t.searchForm}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"搜索宠物名称","prefix-icon":"el-icon-search",clearable:""},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1),e("el-form-item",[e("el-select",{attrs:{placeholder:"选择宠物类型",clearable:""},model:{value:t.searchForm.type,callback:function(e){t.$set(t.searchForm,"type",e)},expression:"searchForm.type"}},[e("el-option",{attrs:{label:"猫",value:"猫"}}),e("el-option",{attrs:{label:"狗",value:"狗"}}),e("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v("搜索")]),e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.resetSearch}},[t._v("重置")])],1)],1)],1),"USER"===t.userInfo.role?e("div",{staticClass:"my-adopts"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:t.showMyAdopts}},[t._v("我的领养申请")])],1):t._e(),e("div",{staticClass:"pet-grid"},[e("el-row",{attrs:{gutter:20}},t._l(t.animalData,(function(a){return e("el-col",{key:a.id,attrs:{xs:24,sm:12,md:6,lg:6}},[e("div",{staticClass:"pet-card",on:{click:function(e){return t.toDetail(a)}}},[e("div",{staticClass:"pet-image"},[e("el-image",{attrs:{src:t.imgBaseUrl+a.img,fit:"cover","preview-src-list":[t.imgBaseUrl+a.img]}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("div",{staticClass:"pet-status",class:t.getStatusClass(a.status)},[t._v(" "+t._s(a.status)+" ")])],1),e("div",{staticClass:"pet-info"},[e("div",{staticClass:"pet-header"},[e("h3",[t._v(t._s(a.name))]),e("span",{staticClass:"pet-age"},[t._v(t._s(a.age)+"岁")])]),e("div",{staticClass:"pet-tags"},[e("span",{staticClass:"tag"},[t._v(t._s(a.type))]),e("span",{staticClass:"tag"},[t._v(t._s(a.sex))])]),e("p",{staticClass:"pet-desc"},[t._v(t._s(a.descr))]),e("el-button",{staticClass:"adopt-btn",attrs:{type:t.getButtonType(a.status),round:"",disabled:"USER"!=t.userInfo.role||!t.canAdopt(a.status)},on:{click:function(e){return e.stopPropagation(),t.handleAdopt(a.id)}}},[t._v(" "+t._s(t.adoptBtn(a.status))+" ")])],1)])])})),1)],1),e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{background:"","current-page":t.pageParams.currentPage,"page-sizes":[8,16,24,32],"page-size":t.pageParams.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("el-dialog",{attrs:{title:"我的领养申请",visible:t.myAdoptsVisible,width:"70%"},on:{"update:visible":function(e){t.myAdoptsVisible=e}}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.myAdoptsLoading,expression:"myAdoptsLoading"}],attrs:{data:t.myAdopts,stripe:""}},[e("el-table-column",{attrs:{prop:"animalName",label:"宠物姓名"}}),e("el-table-column",{attrs:{prop:"time",label:"申请时间"}}),e("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:t.getTagType(a.row.status)}},[t._v(t._s(a.row.status))])]}}])}),e("el-table-column",{attrs:{prop:"reviewComment",label:"审核意见","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"reviewTime",label:"审核时间"}})],1)],1)],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",[t._v("宠物领养")]),e("p",[t._v("每一个生命都值得被温柔以待")])])])}],r=(a(4114),a(7120)),o={inject:["userInfo"],data(){return{imgBaseUrl:this.HOST,animalData:[],total:0,pageParams:{currentPage:1,size:8},searchForm:{name:"",type:""},adoptForm:{id:"",userId:this.userInfo.id,animalId:""},myAdoptsVisible:!1,myAdoptsLoading:!1,myAdopts:[]}},created(){this.loadAnimal()},methods:{adoptBtn(t){const e={"领养中":"已领养","待领养":"去领养","审核中":"审核中","审核不通过":"重新申请"};return e[t]||"去领养"},canAdopt(t){return"待领养"===t||"审核不通过"===t},getButtonType(t){const e={"领养中":"info","待领养":"success","审核中":"warning","审核不通过":"danger"};return e[t]||"success"},getTagType(t){const e={"领养中":"success","待领养":"info","审核中":"warning","审核不通过":"danger"};return e[t]||"info"},getStatusClass(t){const e={"领养中":"adopted","审核中":"pending","审核不通过":"rejected"};return e[t]||""},showMyAdopts(){this.myAdoptsLoading=!0,this.myAdoptsVisible=!0,r.A.get(`/adopt/user/${this.userInfo.id}`).then((t=>{"0"===t.code?this.myAdopts=t.data||[]:this.$message.error(t.msg||"获取领养申请失败"),this.myAdoptsLoading=!1})).catch((()=>{this.myAdoptsLoading=!1,this.$message.error("获取领养申请失败")}))},loadAnimal(){const t={...this.pageParams,...this.searchForm};r.A.get("/animal/page",{params:t}).then((t=>{"0"===t.code?(this.animalData=t.data.records,this.total=t.data.total):this.$message.error(t.msg)}))},handleAdopt(t){this.$confirm("确定要领养这只宠物吗？","领养确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.adoptForm.animalId=t,r.A.post("/adopt",this.adoptForm).then((t=>{"0"===t.code?(this.$message.success("领养申请提交成功，请等待管理员审核"),this.loadAnimal()):this.$message.error(t.msg)}))})).catch((()=>{}))},handleSearch(){this.pageParams.currentPage=1,this.loadAnimal()},resetSearch(){this.searchForm={name:"",type:""},this.handleSearch()},handleSizeChange(t){this.pageParams.size=t,this.loadAnimal()},handleCurrentChange(t){this.pageParams.currentPage=t,this.loadAnimal()},toDetail(t){this.$router.push({name:"petDetail",params:{pet:t},query:{_t:Date.now()}})}}},n=o,l=a(1656),c=(0,l.A)(n,s,i,!1,null,"4c6e4cda",null),d=c.exports},7187:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"goods-container"},[t._m(0),e("div",{staticClass:"search-section"},[e("el-form",{staticClass:"search-form",attrs:{inline:!0}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"搜索商品名称","prefix-icon":"el-icon-search",clearable:""},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.fetchData}},[t._v("搜索")]),e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1),e("div",{staticClass:"goods-grid"},[e("el-row",{attrs:{gutter:20}},t._l(t.productList,(function(a){return e("el-col",{key:a.id,attrs:{xs:24,sm:12,md:6,lg:6}},[e("div",{staticClass:"goods-card"},[e("div",{staticClass:"goods-image"},[e("el-image",{attrs:{src:t.imgBaseUrl+"/"+a.img,fit:"cover"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("div",{staticClass:"goods-tag"},[e("i",{staticClass:"el-icon-shopping-bag-2"})])],1),e("div",{staticClass:"goods-info"},[e("h3",{staticClass:"goods-name"},[t._v(t._s(a.name))]),a.desrc&&a.desrc.length>=40?e("el-tooltip",{attrs:{content:a.desrc,placement:"top",effect:"light"}},[e("p",{staticClass:"goods-desc"},[t._v(t._s(a.desrc))])]):e("p",{staticClass:"goods-desc"},[t._v(t._s(a.desrc))]),e("div",{staticClass:"goods-meta"},[e("div",{staticClass:"price-section"},[e("span",{staticClass:"price"},[t._v(t._s(t._f("currency")(a.price)))]),e("span",{staticClass:"unit"},[t._v("/ 份")])]),e("div",{staticClass:"stock"},[t._v("库存: "+t._s(a.num))])]),e("div",{staticClass:"purchase-section"},[e("el-input-number",{attrs:{min:0,max:a.num,size:"small","controls-position":"right",placeholder:0},model:{value:a.buyNum,callback:function(e){t.$set(a,"buyNum",e)},expression:"product.buyNum"}}),e("div",{staticClass:"total-price"},[t._v(" 总价: "),e("span",[t._v(t._s(t._f("currency")(a.price*(a.buyNum||0))))])])],1),e("div",{staticClass:"action-section"},["USER"!=t.userInfo.role?e("p",{staticClass:"admin-tip"},[e("i",{staticClass:"el-icon-warning-outline"}),t._v(" 管理员不可购买商品 ")]):t._e(),e("el-button",{attrs:{type:"primary",round:"",disabled:"USER"!=t.userInfo.role},on:{click:function(e){return t.addToCart(a)}}},[e("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 立即购买 ")])],1)],1)])])})),1)],1)])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",[t._v("宠物用品商城")]),e("p",[t._v("为您的宠物挑选优质用品")])])])}],r=a(7120),o={name:"Buy",inject:["userInfo"],created(){this.fetchData()},data(){return{searchKeyword:"",imgBaseUrl:this.HOST,orderInfo:{goodsId:void 0,num:void 0,userId:this.userInfo.id},productList:[]}},methods:{search(){this.productList=this.productList.filter((t=>t.name.includes(this.searchKeyword)))},reset(){this.searchKeyword="",this.fetchData()},fetchData(){r.A.get("/goods",{params:{name:this.searchKeyword}}).then((t=>{"0"===t.code&&(this.productList=t.data.map((t=>({...t,buyNum:0}))))}))},addToCart(t){t.buyNum&&0!==t.buyNum?(this.orderInfo.num=t.buyNum,this.orderInfo.goodsId=t.id,r.A.post("/orders",this.orderInfo).then((t=>{"0"==t.code?this.$message({type:"success",message:"订单创建成功!"}):this.$message({type:"error",message:"订单创建失败!"})}))):this.$message({type:"warning",message:"请选择购买数量!"})}},filters:{currency(t){return"¥"+parseFloat(t).toFixed(2)}}},n=o,l=a(1656),c=(0,l.A)(n,s,i,!1,null,"669f0a3b",null),d=c.exports},3156:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category-wrapper"},[e("el-card",{attrs:{shadow:"always"}},[e("div",{staticClass:"control-btns"},[e("el-popconfirm",{attrs:{title:"确认删除?"},on:{confirm:t.batchDelete},scopedSlots:t._u([{key:"reference",fn:function(){return[e("el-button",{staticStyle:{"background-color":"red","border-color":"red"},attrs:{type:"danger",size:"medium"}},[t._v("批量删除")])]},proxy:!0}])}),e("el-button",{staticStyle:{float:"right","background-color":"blue","border-color":"blue"},attrs:{type:"primary",size:"medium"},on:{click:t.handleCreate}},[t._v("新增菜单项")]),e("el-button",{staticStyle:{float:"right","margin-right":"10px","background-color":"blue","border-color":"blue"},attrs:{type:"primary",size:"medium"},on:{click:function(e){t.exportVisible=!0}}},[t._v("导出数据")])],1),e("el-form",{ref:"searchForm",staticClass:"search-form",attrs:{inline:!0,model:t.listQuery,"label-width":"90px"}},[e("el-form-item",{attrs:{label:"菜单标题"}},[e("el-input",{attrs:{placeholder:"菜单标题"},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}})],1),e("el-form-item",[e("el-button",{staticStyle:{"background-color":"blue","border-color":"blue"},attrs:{type:"primary",size:"medium"},on:{click:t.onSubmit}},[t._v("查询")])],1),e("el-form-item",[e("el-button",{staticStyle:{"background-color":"red","border-color":"red"},attrs:{type:"danger",size:"medium"},on:{click:t.onReset}},[t._v("重置")])],1)],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark","row-key":"id",size:"medium",border:"","default-expand-all":""},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"50"}}),e("el-table-column",{attrs:{prop:"id",label:"id"}}),e("el-table-column",{attrs:{prop:"name",label:"菜单名称"}}),e("el-table-column",{attrs:{prop:"path",label:"菜单路径"}}),e("el-table-column",{attrs:{label:"菜单图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("i",{class:t.row.icon})]}}])}),e("el-table-column",{attrs:{prop:"description",label:"菜单描述"}}),e("el-table-column",{attrs:{prop:"pagePath",label:"页面路径"}}),e("el-table-column",{attrs:{prop:"role",label:"菜单分配"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(t._s(t.getMenuRole(a.row.role)))])]}}])}),e("el-table-column",{attrs:{prop:"sortNum",label:"排序"}}),e("el-table-column",{attrs:{label:"操作",width:"350"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.pid||a.row.path?t._e():e("el-button",{staticClass:"el-icon-circle-plus",attrs:{size:"small",type:"success"},on:{click:function(e){return t.addChildMenu(a.row.id)}}},[t._v("新增子菜单")]),e("el-button",{staticClass:"el-icon-edit",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(a.$index,a.row)}}},[t._v("删除")])]}}])})],1),e("el-dialog",{attrs:{title:"修改菜单项",visible:t.formVisibleEdit,width:"30%",modal:!1},on:{"update:visible":function(e){t.formVisibleEdit=e}}},[e("el-form",{ref:"dialogForm",attrs:{model:t.dialogForm,rules:t.formRules}},[e("el-form-item",{attrs:{label:"菜单名称","label-width":t.formLabelWidth,prop:"name"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.name,callback:function(e){t.$set(t.dialogForm,"name",e)},expression:"dialogForm.name"}})],1),e("el-form-item",{attrs:{label:"菜单路径","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.path,callback:function(e){t.$set(t.dialogForm,"path",e)},expression:"dialogForm.path"}})],1),e("el-form-item",{attrs:{label:"菜单图标","label-width":t.formLabelWidth,prop:"icon"}},[e("el-select",{attrs:{filterable:"",placeholder:"请选择图标"},model:{value:t.dialogForm.icon,callback:function(e){t.$set(t.dialogForm,"icon",e)},expression:"dialogForm.icon"}},t._l(t.iconDict,(function(a){return e("el-option",{key:a.itemKey,attrs:{label:a.itemKey,value:a.itemValue}},[e("i",{class:a.itemValue}),t._v("  "+t._s(a.itemKey)+" ")])})),1)],1),e("el-form-item",{attrs:{label:"页面路径","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.pagePath,callback:function(e){t.$set(t.dialogForm,"pagePath",e)},expression:"dialogForm.pagePath"}})],1),e("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth,prop:"sortNum"}},[e("el-input",{attrs:{autocomplete:"off",type:"number"},model:{value:t.dialogForm.sortNum,callback:function(e){t.$set(t.dialogForm,"sortNum",e)},expression:"dialogForm.sortNum"}})],1),e("el-form-item",{attrs:{label:"菜单分配","label-width":t.formLabelWidth,prop:"role"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dialogForm.role,callback:function(e){t.$set(t.dialogForm,"role",e)},expression:"dialogForm.role"}},[e("el-option",{attrs:{label:"暂不分配",value:0}}),e("el-option",{attrs:{label:"普通用户",value:2}}),e("el-option",{attrs:{label:"普通管理员",value:1}}),e("el-option",{attrs:{label:"全部",value:3}})],1)],1),e("el-form-item",{attrs:{label:"描述","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.description,callback:function(e){t.$set(t.dialogForm,"description",e)},expression:"dialogForm.description"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.formVisibleEdit=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",disabled:t.isSubmit},on:{click:function(e){return t.handleEditSave("dialogForm")}}},[t._v("确 定")])],1)],1),e("el-dialog",{attrs:{title:"新增菜单项",visible:t.formVisibleAdd,width:"30%"},on:{"update:visible":function(e){t.formVisibleAdd=e}}},[e("el-form",{ref:"dialogForm",attrs:{model:t.dialogForm,rules:t.formRules}},[e("el-form-item",{attrs:{label:"菜单名称","label-width":t.formLabelWidth,prop:"name"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.name,callback:function(e){t.$set(t.dialogForm,"name",e)},expression:"dialogForm.name"}})],1),e("el-form-item",{attrs:{label:"菜单路径","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.path,callback:function(e){t.$set(t.dialogForm,"path",e)},expression:"dialogForm.path"}})],1),e("el-form-item",{attrs:{label:"菜单图标","label-width":t.formLabelWidth,prop:"icon"}},[e("el-select",{attrs:{filterable:"",placeholder:"请选择图标"},model:{value:t.dialogForm.icon,callback:function(e){t.$set(t.dialogForm,"icon",e)},expression:"dialogForm.icon"}},t._l(t.iconDict,(function(a){return e("el-option",{key:a.itemKey,attrs:{label:a.itemKey,value:a.itemValue}},[e("i",{class:a.itemValue}),t._v("  "+t._s(a.itemKey)+" ")])})),1)],1),e("el-form-item",{attrs:{label:"页面路径","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.pagePath,callback:function(e){t.$set(t.dialogForm,"pagePath",e)},expression:"dialogForm.pagePath"}})],1),e("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth,prop:"sortNum"}},[e("el-input",{attrs:{autocomplete:"off",type:"number"},model:{value:t.dialogForm.sortNum,callback:function(e){t.$set(t.dialogForm,"sortNum",e)},expression:"dialogForm.sortNum"}})],1),e("el-form-item",{attrs:{label:"菜单分配","label-width":t.formLabelWidth,prop:"role"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dialogForm.role,callback:function(e){t.$set(t.dialogForm,"role",e)},expression:"dialogForm.role"}},[e("el-option",{attrs:{label:"暂不分配",value:0}}),e("el-option",{attrs:{label:"普通用户",value:2}}),e("el-option",{attrs:{label:"普通管理员",value:1}}),e("el-option",{attrs:{label:"全部",value:3}})],1)],1),e("el-form-item",{attrs:{label:"描述","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.description,callback:function(e){t.$set(t.dialogForm,"description",e)},expression:"dialogForm.description"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.formVisibleAdd=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",disabled:t.isSubmit},on:{click:function(e){return t.handleAdd("dialogForm")}}},[t._v("确 定")])],1)],1),e("el-dialog",{attrs:{title:"导出数据",visible:t.exportVisible,width:"500px"},on:{"update:visible":function(e){t.exportVisible=e}}},[e("div",{staticClass:"export-data",staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.exportTable("xlsx")}}},[t._v("EXCEL格式")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.exportTable("csv")}}},[t._v("CSV格式")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.exportTable("txt")}}},[t._v("TXT格式")])],1),e("div",{staticClass:"hints"},[t._v("TIP：请选择要导出数据的格式。")])])],1)],1)},i=[],r=a(186),o=a(1184),n=a(1867),l=a(193),c=a(7120),d={name:"Menu",components:{Pagination:o.A,Upload:n.A,Hints:l.A},data(){return{listLoading:!0,formLabelWidth:"80px",iconDict:{},listQuery:{name:void 0},dialogForm:{name:void 0,description:void 0},total:0,tableData:[],multipleSelection:[],formVisible:!1,formVisibleAdd:!1,formVisibleEdit:!1,formRules:{name:[{required:!0,message:"请填写菜单名称",trigger:"blur"}],sortNum:[{required:!0,message:"排序不能为空",trigger:"blur"}],role:[{required:!0,message:"请选择菜单分配",trigger:"change"}],icon:[{required:!0,message:"请选择菜单图标",trigger:"change"}]},isSubmit:!1,filesFormat:".txt, .csv, .xls, .xlsx",exportVisible:!1}},created(){this.fetchData()},methods:{handleSelectionChange(t){this.multipleSelection=t.map((t=>t.id))},handleCreate(){this.formVisibleAdd=!0,this.dialogForm={}},handleEdit(t){this.dialogForm=JSON.parse(JSON.stringify(t)),this.formVisibleEdit=!0},cancel(){this.$message.success("取消操作成功")},handleDelete(t,e){this.$confirm("此操作将删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{c.A.delete("/menu/deleteById/"+e.id).then((t=>{0==t.code?(this.$message({type:"success",message:"删除成功!"}),this.onReset()):this.$message({type:"success",errpr:"删除失败!"})}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},addChildMenu(t){this.formVisibleAdd=!0,this.dialogForm={},t&&(this.dialogForm.pid=t)},batchDelete(){this.multipleSelection.length<1?this.$message({message:"请先选择要删除的数据！",type:"warning"}):c.A.delete(`/menu/deleteBatch?ids=${this.multipleSelection.join(",")}`).then((t=>{"0"===t.code?(this.$message({showClose:!0,message:"批量删除成功",type:"success"}),this.onReset()):this.$message({showClose:!0,message:t.msg,type:"error"})}))},loadIconList(){c.A.get("/icon-dict/all").then((t=>{"0"===t.code?this.iconDict=t.data:this.$message({type:"error",message:"图标列表失败!"})}))},fetchData(){this.listLoading=!0,this.loadIconList(),c.A.get("/menu/findAll",{params:{name:this.listQuery.name}}).then((t=>{const e=t.data;this.tableData=e,this.total=e.length})),this.listLoading=!1},onSubmit(){this.fetchData()},onReset(){this.listQuery.name="",this.fetchData()},handleAdd(t){this.$refs[t].validate((t=>t?(c.A.post("/menu/save",this.dialogForm).then((t=>{0==t.code?this.$message({showClose:!0,message:"添加成功",type:"success"}):this.$message({showClose:!0,message:"添加失败",type:"error"})})),this.formVisibleAdd=!1,!0):(this.isSubmit=!1,!1)))},handleEditSave(t){this.$refs[t].validate((t=>{t&&c.A.put("/menu/"+this.dialogForm.id,this.dialogForm).then((t=>{0==t.code?(this.$message({showClose:!0,message:"更新成功",type:"success"}),this.formVisibleEdit=!1,this.fetchData()):this.$message({showClose:!0,message:"更新失败",type:"error"})}))}))},exportTable(t){if(this.tableData.length){const e={header:["菜单ID","菜单名","菜单路径","菜单图标","描述","父级菜单ID","页面路径","排序","菜单所属角色"],key:["id","name","path","icon","description","pid","pagePath","sortNum","role"],data:this.tableData,autoWidth:!0,fileName:"菜单数据表",bookType:t};r.Ay.exportDataToExcel(e),this.exportVisible=!1}},getMenuRole(t){switch(t){case 0:return"未分配";case 2:return"普通用户";case 1:return"普通管理员";case 3:return"全部";default:return"未分配"}}}},u=d,m=a(1656),p=(0,m.A)(u,s,i,!1,null,null,null),h=p.exports},7836:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return F}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("div",{staticClass:"carousel-section",staticStyle:{height:"600px"}},[e("pet-carousel",{attrs:{breeds:t.silderList}})],1),e("div",{staticClass:"section-container"},[t._m(0),e("div",{staticClass:"section-content"},[e("showViewVue")],1)]),e("div",{staticClass:"section-container"},[t._m(1),e("div",{staticClass:"section-content"},[e("pet-showcase",{attrs:{pets:t.pets}})],1)]),e("div",{staticClass:"section-container"},[t._m(2),e("div",{staticClass:"section-content"},[e("pet-products",{attrs:{products:t.products}})],1)])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-header"},[e("h2",[t._v("可视化")]),e("div",{staticClass:"section-divider"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-header"},[e("h2",[t._v("宠物推荐")]),e("div",{staticClass:"section-divider"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-header"},[e("h2",[t._v("宠物用品")]),e("div",{staticClass:"section-divider"})])}],r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"carousel-container"},[e("el-carousel",{attrs:{interval:4e3,height:"550px",autoplay:!0,"indicator-position":"outside"}},t._l(t.breeds,(function(a){return e("el-carousel-item",{key:a.id},[e("div",{staticClass:"carousel-item"},[e("div",{staticClass:"image-wrapper"},[e("el-image",{attrs:{src:t.HOST+"/img/"+a.img,fit:"cover"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1),e("div",{staticClass:"content-overlay"},[e("div",{staticClass:"content-text"},[e("h3",[t._v(t._s(a.name))]),e("p",[t._v(t._s(a.desrc))])])])])])})),1)],1)},o=[],n=a(4927),l={components:{Carousel:n.Carousel,CarouselItem:n.CarouselItem},props:{breeds:Array}},c=l,d=a(1656),u=(0,d.A)(c,r,o,!1,null,"0dc7768e",null),m=u.exports,p=(a(4114),function(){var t=this,e=t._self._c;return e("div",{staticClass:"pet-showcase"},[e("el-row",{attrs:{gutter:24}},t._l(t.pets.slice(0,5),(function(a,s){return e("el-col",{key:s,attrs:{span:4}},[e("div",{staticClass:"pet-card",on:{click:function(e){return t.handleClick(a)}}},[e("div",{staticClass:"pet-image"},[e("el-image",{attrs:{src:t.HOST+a.img,alt:a.name,fit:"cover"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("div",{staticClass:"pet-badge"},[e("i",{staticClass:"el-icon-paw"})])],1),e("div",{staticClass:"pet-info"},[e("div",{staticClass:"pet-header"},[e("h3",{staticClass:"pet-name"},[t._v(t._s(a.name))]),e("el-tag",{attrs:{size:"mini",effect:"plain",type:"success"}},[t._v(t._s(a.breed))])],1),e("div",{staticClass:"pet-meta"},[e("span",{staticClass:"meta-item"},[e("i",{staticClass:"el-icon-location"}),t._v(" "+t._s(a.type)+" ")]),e("span",{staticClass:"meta-item"},[e("i",{staticClass:"el-icon-user"}),t._v(" "+t._s(a.sex)+" ")]),e("span",{staticClass:"meta-item"},[e("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(a.age)+"岁 ")])])])])])})),1),e("div",{staticClass:"view-more"},[e("el-button",{attrs:{type:"success",size:"medium",round:""},on:{click:function(e){return t.$router.push({name:"petAdoptFront"})}}},[t._v(" 查看更多宠物 "),e("i",{staticClass:"el-icon-arrow-right"})])],1)],1)}),h=[],f={props:{pets:Array},methods:{handleClick(t){console.log("handleClick"),this.$router.push({name:"petDetail",params:{pet:t}})}}},g=f,v=(0,d.A)(g,p,h,!1,null,"4f38cf84",null),b=v.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pet-products"},[e("el-row",{attrs:{gutter:24}},t._l(t.products.slice(0,5),(function(a,s){return e("el-col",{key:s,attrs:{xs:24,sm:12,md:6,lg:4}},[e("div",{staticClass:"product-card",on:{click:function(e){return t.handleProductClick(a)}}},[e("div",{staticClass:"product-image"},[e("el-image",{attrs:{src:t.HOST+a.img,alt:a.name,fit:"cover"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("div",{staticClass:"product-tag"},[e("i",{staticClass:"el-icon-shopping-bag-2"})])],1),e("div",{staticClass:"product-info"},[e("h3",{staticClass:"product-name",attrs:{title:a.name}},[t._v(t._s(a.name))]),e("div",{staticClass:"product-desc"},[e("el-tag",{attrs:{size:"mini",effect:"plain",type:"success"}},[t._v(t._s(a.desrc))])],1),e("div",{staticClass:"product-price"},[e("span",{staticClass:"price-symbol"},[t._v("¥")]),e("span",{staticClass:"price-value"},[t._v(t._s(a.price))])])])])])})),1),e("div",{staticClass:"view-more"},[e("el-button",{attrs:{type:"success",size:"medium",round:""},on:{click:function(e){return t.$router.push({name:"petGoods"})}}},[t._v(" 查看更多商品 "),e("i",{staticClass:"el-icon-arrow-right"})])],1)],1)},y=[],_={props:{products:{type:Array,default:()=>[]}},methods:{handleProductClick(t){console.log("Product clicked:",t)}}},w=_,S=(0,d.A)(w,C,y,!1,null,"8ee8c138",null),A=S.exports,x=a(7120),k=a(338),T={components:{PetCarousel:m,PetShowcase:b,PetProducts:A,showViewVue:k["default"]},mounted(){this.loadPets(),this.loadProducts(),this.loadSlider(),window.addEventListener("wheel",this.handleWheel,{passive:!1})},beforeDestroy(){window.removeEventListener("wheel",this.handleWheel)},data(){return{pets:[],products:[],silderList:[],breeds:[{id:1,name:"拉布拉多",desrc:"温和友善、聪明易训练",img:"/img/testImg/1.png"},{id:2,name:"金吉拉",desrc:"波斯猫的选育后",img:"/img/testImg/2.jpeg"},{id:3,name:"豹纹守宫",desrc:"温顺性格和易于照料",img:"/img/testImg/3.jpeg"}]}},methods:{handleWheel(t){t.preventDefault(),t.stopPropagation();const e=Math.sign(t.deltaY),a=window.innerHeight,s=document.documentElement.scrollHeight,i=window.scrollY;let r;r=e>0?Math.min(i+a,s-a):Math.max(i-a,0),Math.abs(r-i)>10&&window.scrollTo({top:r,behavior:"smooth"})},loadSlider(){x.A.get("/slider/selectAll").then((t=>{0==t.code&&(this.silderList=t.data,console.log("silderList"+this.silderList))}))},loadPets(){x.A.get("/animal/selectAll").then((t=>{0==t.code&&(this.pets=t.data)}))},loadProducts(){x.A.get("/goods/selectAll").then((t=>{0==t.code&&(this.products=t.data)}))}}},$=T,L=(0,d.A)($,s,i,!1,null,"e04a4df8",null),F=L.exports},338:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-wrapper"},[e("div",{staticClass:"date-row"},[e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-s-goods icon-box",staticStyle:{background:"linear-gradient(45deg, #2d8cf0, #5cadff)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.animalCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("宠物总数")]),e("p",{staticClass:"sub-title"},[t._v("可领养: "+t._s(t.statistics.availableCount))])],1)])]),e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-s-custom icon-box",staticStyle:{background:"linear-gradient(45deg, #19be6b, #39d353)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.userCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("用户总数")]),e("p",{staticClass:"sub-title"},[t._v("本月新增: "+t._s(t.statistics.newUserCount))])],1)])]),e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-s-order icon-box",staticStyle:{background:"linear-gradient(45deg, #ff9900, #ffb84d)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.adoptCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("领养总数")]),e("p",{staticClass:"sub-title"},[t._v("本月: "+t._s(t.statistics.monthAdoptCount))])],1)])]),e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-money icon-box",staticStyle:{background:"linear-gradient(45deg, #e46cbb, #f5a3d7)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.orderCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("订单总数")]),e("p",{staticClass:"sub-title"},[t._v("总金额: ¥"+t._s(t.statistics.totalAmount))])],1)])]),e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-house icon-box",staticStyle:{background:"linear-gradient(45deg, #9a66e4, #b794f4)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.fosterCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("寄养总数")]),e("p",{staticClass:"sub-title"},[t._v(" 当前寄养: "+t._s(t.statistics.currentFosterCount)+" ")])],1)])])],1),e("div",{staticClass:"charts-container"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:7}},[e("el-card",{staticClass:"chart-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("宠物状态分布")])]),e("div",{staticClass:"chart-wrapper",attrs:{id:"animalStatusChart"}})])],1),e("el-col",{attrs:{span:10}},[e("el-card",{staticClass:"chart-card middle-chart",attrs:{shadow:"hover"}},[e("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("近1年领养趋势")])]),e("div",{staticClass:"chart-wrapper",attrs:{id:"adoptTrendChart"}})])],1),e("el-col",{attrs:{span:7}},[e("el-card",{staticClass:"chart-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("宠物品种分布")])]),e("div",{staticClass:"chart-wrapper",attrs:{id:"animalBreedChart"}})])],1)],1)],1),e("div",{staticClass:"bottom-container"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"notice-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"notice-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("通知公告")])]),e("div",{staticClass:"notice-content"},[e("el-timeline",t._l(t.announcements,(function(a,s){return e("el-timeline-item",{key:s,attrs:{timestamp:a.time,placement:"top",type:0===s?"primary":"",color:0===s?"#2d8cf0":""}},[e("el-card",{staticClass:"announcement-card"},[e("h4",{staticClass:"announcement-title"},[t._v(t._s(a.title))]),e("p",{staticClass:"announcement-text"},[t._v(t._s(a.content))])])],1)})),1)],1)])],1)],1)],1)])},i=[],r=a(4927),o=a(1753),n=a.n(o),l=a(7120),c=a(3944),d={name:"HomeView",components:{[r.Card.name]:r.Card,[r.Timeline.name]:r.Timeline,[r.TimelineItem.name]:r.TimelineItem,[r.Button.name]:r.Button,CountTo:n()},data(){return{statistics:{animalCount:0,availableCount:0,userCount:0,newUserCount:0,adoptCount:0,monthAdoptCount:0,orderCount:0,totalAmount:0,fosterCount:0,currentFosterCount:0},noticeLimit:10,chartData:{columns:["日期","领养数量"],rows:[{"日期":"1月1日","领养数量":120}]},chartSettings:{},announcements:[],adoptTrendChart:null,animalStatusChart:null,animalBreedChart:null}},created(){this.fetchData()},methods:{fetchData(){l.A.get("/show/getStatistics").then((t=>{"0"===t.code&&(this.statistics=t.data)})),this.fetchChartData(),this.fetchNotices()},fetchNotices(){l.A.get("/notice/limit",{params:{count:this.noticeLimit}}).then((t=>{"0"===t.code&&(this.announcements=t.data)}))},fetchChartData(){l.A.get("/show/getAdoptTrend").then((t=>{"0"===t.code&&this.initAdoptTrendChart(t.data)})),l.A.get("/show/getAnimalStatus").then((t=>{"0"===t.code&&this.initAnimalStatusChart(t.data)})),l.A.get("/show/getAnimalBreed").then((t=>{"0"===t.code&&this.initAnimalBreedChart(t.data)}))},initAdoptTrendChart(t){const e=document.getElementById("adoptTrendChart");if(!e)return;this.adoptTrendChart&&this.adoptTrendChart.dispose(),this.adoptTrendChart=c.Ts(e);const a=t.map((t=>t.date)),s=t.map((t=>t.count)),i={title:{text:"近1年领养趋势"},tooltip:{trigger:"axis",formatter:function(t){const e=t[0];return`${e.name}<br/>领养数量：${e.value}`}},xAxis:{type:"category",data:a,axisLabel:{rotate:45,interval:"auto",formatter:function(t){return t.substring(5)}}},yAxis:{type:"value",name:"领养数量"},series:[{name:"领养数量",data:s,type:"line",smooth:!0,areaStyle:{opacity:.3},itemStyle:{color:"#2d8cf0"}}]};this.adoptTrendChart.setOption(i)},initAnimalStatusChart(t){const e=document.getElementById("animalStatusChart");if(!e)return;this.animalStatusChart&&this.animalStatusChart.dispose(),this.animalStatusChart=c.Ts(e);const a={title:{text:"宠物状态分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"left",top:"middle",itemWidth:10,itemHeight:10,textStyle:{fontSize:12}},series:[{name:"宠物状态",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,position:"outside",formatter:"{b}: {c}"},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},labelLine:{show:!0,length:10,length2:10,smooth:!0},data:t.map((t=>({name:t.status,value:t.count})))}]};this.animalStatusChart.setOption(a)},initAnimalBreedChart(t){const e=document.getElementById("animalBreedChart");if(!e)return;this.animalBreedChart&&this.animalBreedChart.dispose(),this.animalBreedChart=c.Ts(e);const a={title:{text:"宠物品种分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"left",top:"middle",itemWidth:10,itemHeight:10,textStyle:{fontSize:12}},series:[{name:"宠物品种",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,position:"outside",formatter:"{b}: {c}"},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},labelLine:{show:!0,length:10,length2:10,smooth:!0},data:t.map((t=>({name:t.breed,value:t.count})))}]};this.animalBreedChart.setOption(a)}},mounted(){this.fetchData(),window.addEventListener("resize",(()=>{this.adoptTrendChart?.resize(),this.animalStatusChart?.resize(),this.animalBreedChart?.resize()}))},beforeDestroy(){this.adoptTrendChart?.dispose(),this.animalStatusChart?.dispose(),this.animalBreedChart?.dispose(),window.removeEventListener("resize",this.handleResize)}},u=d,m=a(1656),p=(0,m.A)(u,s,i,!1,null,null,null),h=p.exports},6273:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-wrapper"},[e("div",{staticClass:"date-row"},[e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-s-goods icon-box",staticStyle:{background:"linear-gradient(45deg, #2d8cf0, #5cadff)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.animalCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("宠物总数")]),e("p",{staticClass:"sub-title"},[t._v("可领养: "+t._s(t.statistics.availableCount))])],1)])]),e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-s-custom icon-box",staticStyle:{background:"linear-gradient(45deg, #19be6b, #39d353)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.userCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("用户总数")]),e("p",{staticClass:"sub-title"},[t._v("本月新增: "+t._s(t.statistics.newUserCount))])],1)])]),e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-s-order icon-box",staticStyle:{background:"linear-gradient(45deg, #ff9900, #ffb84d)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.adoptCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("领养总数")]),e("p",{staticClass:"sub-title"},[t._v("本月: "+t._s(t.statistics.monthAdoptCount))])],1)])]),e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-money icon-box",staticStyle:{background:"linear-gradient(45deg, #e46cbb, #f5a3d7)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.orderCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("订单总数")]),e("p",{staticClass:"sub-title"},[t._v("总金额: ¥"+t._s(t.statistics.totalAmount))])],1)])]),e("el-card",{staticClass:"data-col",attrs:{shadow:"hover","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("i",{staticClass:"el-icon-house icon-box",staticStyle:{background:"linear-gradient(45deg, #9a66e4, #b794f4)"}}),e("div",{staticClass:"date-cont"},[e("CountTo",{staticClass:"count",attrs:{"start-val":0,"end-val":t.statistics.fosterCount,duration:3e3}}),e("p",{staticClass:"title"},[t._v("寄养总数")]),e("p",{staticClass:"sub-title"},[t._v("当前寄养: "+t._s(t.statistics.currentFosterCount))])],1)])])],1),e("div",{staticClass:"charts-container"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"chart-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("近1年领养趋势")])]),e("div",{staticClass:"chart-wrapper",attrs:{id:"adoptTrendChart"}})])],1),e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"chart-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("宠物状态分布")])]),e("div",{staticClass:"chart-wrapper",attrs:{id:"animalStatusChart"}})])],1)],1)],1),e("div",{staticClass:"bottom-container"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"chart-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"chart-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("宠物品种分布")])]),e("div",{staticClass:"chart-wrapper",attrs:{id:"animalBreedChart"}})])],1),e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"notice-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"notice-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("通知公告")])]),e("div",{staticClass:"notice-content"},[e("el-timeline",t._l(t.announcements,(function(a,s){return e("el-timeline-item",{key:s,attrs:{timestamp:a.time,placement:"top",type:0===s?"primary":"",color:0===s?"#2d8cf0":""}},[e("el-card",{staticClass:"announcement-card"},[e("h4",{staticClass:"announcement-title"},[t._v(t._s(a.title))]),e("p",{staticClass:"announcement-text"},[t._v(t._s(a.content))])])],1)})),1)],1)])],1)],1)],1)])},i=[],r=a(4927),o=a(1753),n=a.n(o),l=a(7120),c=a(3944),d={name:"HomeView",components:{[r.Card.name]:r.Card,[r.Timeline.name]:r.Timeline,[r.TimelineItem.name]:r.TimelineItem,[r.Button.name]:r.Button,CountTo:n()},data(){return{statistics:{animalCount:0,availableCount:0,userCount:0,newUserCount:0,adoptCount:0,monthAdoptCount:0,orderCount:0,totalAmount:0,fosterCount:0,currentFosterCount:0},noticeLimit:10,chartData:{columns:["日期","领养数量"],rows:[{"日期":"1月1日","领养数量":120}]},chartSettings:{},announcements:[],adoptTrendChart:null,animalStatusChart:null,animalBreedChart:null}},created(){this.fetchData()},methods:{fetchData(){l.A.get("/show/getStatistics").then((t=>{"0"===t.code&&(this.statistics=t.data)})),this.fetchChartData(),this.fetchNotices()},fetchNotices(){l.A.get("/notice/limit",{params:{count:this.noticeLimit}}).then((t=>{"0"===t.code&&(this.announcements=t.data)}))},fetchChartData(){l.A.get("/show/getAdoptTrend").then((t=>{"0"===t.code&&this.initAdoptTrendChart(t.data)})),l.A.get("/show/getAnimalStatus").then((t=>{"0"===t.code&&this.initAnimalStatusChart(t.data)})),l.A.get("/show/getAnimalBreed").then((t=>{"0"===t.code&&this.initAnimalBreedChart(t.data)}))},initAdoptTrendChart(t){const e=document.getElementById("adoptTrendChart");if(!e)return;this.adoptTrendChart&&this.adoptTrendChart.dispose(),this.adoptTrendChart=c.Ts(e);const a=t.map((t=>t.date)),s=t.map((t=>t.count)),i={title:{text:"近1年领养趋势"},tooltip:{trigger:"axis",formatter:function(t){const e=t[0];return`${e.name}<br/>领养数量：${e.value}`}},xAxis:{type:"category",data:a,axisLabel:{rotate:45,interval:"auto",formatter:function(t){return t.substring(5)}}},yAxis:{type:"value",name:"领养数量"},series:[{name:"领养数量",data:s,type:"line",smooth:!0,areaStyle:{opacity:.3},itemStyle:{color:"#2d8cf0"}}]};this.adoptTrendChart.setOption(i)},initAnimalStatusChart(t){const e=document.getElementById("animalStatusChart");if(!e)return;this.animalStatusChart&&this.animalStatusChart.dispose(),this.animalStatusChart=c.Ts(e);const a={title:{text:"宠物状态分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"left",top:"middle",itemWidth:10,itemHeight:10,textStyle:{fontSize:12}},series:[{name:"宠物状态",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,position:"outside",formatter:"{b}: {c}"},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},labelLine:{show:!0,length:10,length2:10,smooth:!0},data:t.map((t=>({name:t.status,value:t.count})))}]};this.animalStatusChart.setOption(a)},initAnimalBreedChart(t){const e=document.getElementById("animalBreedChart");if(!e)return;this.animalBreedChart&&this.animalBreedChart.dispose(),this.animalBreedChart=c.Ts(e);const a={title:{text:"宠物品种分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"left",top:"middle",itemWidth:10,itemHeight:10,textStyle:{fontSize:12}},series:[{name:"宠物品种",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,position:"outside",formatter:"{b}: {c}"},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},labelLine:{show:!0,length:10,length2:10,smooth:!0},data:t.map((t=>({name:t.breed,value:t.count})))}]};this.animalBreedChart.setOption(a)}},mounted(){this.fetchData(),window.addEventListener("resize",(()=>{this.adoptTrendChart?.resize(),this.animalStatusChart?.resize(),this.animalBreedChart?.resize()}))},beforeDestroy(){this.adoptTrendChart?.dispose(),this.animalStatusChart?.dispose(),this.animalBreedChart?.dispose(),window.removeEventListener("resize",this.handleResize)}},u=d,m=a(1656),p=(0,m.A)(u,s,i,!1,null,null,null),h=p.exports},6759:function(t,e,a){"use strict";var s=a(2856),i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"overflow-y":"hidden","overflow-x":"hidden"}},[e("router-view")],1)},r=[],o={name:"App"},n=o,l=a(1656),c=(0,l.A)(n,i,r,!1,null,null,null),d=c.exports,u=a(4927),m=a.n(u),p=a(5441),h=a(1910);s["default"].use(h.Ay);var f=new h.Ay.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});s["default"].use(m()),s["default"].config.productionTip=!1,s["default"].prototype.HOST="/api",new s["default"]({router:p.A,store:f,render:t=>t(d)}).$mount("#app"),p.A.afterEach(((t,e,a)=>{document.querySelector("body").setAttribute("style","overflow: auto !important;")}))},5441:function(t,e,a){"use strict";a.d(e,{A:function(){return st},z:function(){return at}});a(4114);var s=a(2856),i=a(1594),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-wrapper"},[e("div",{staticClass:"side-container"},[e("SideMenu")],1),e("div",{staticClass:"main-container"},[e("div",{staticClass:"main-header",staticStyle:{"margin-bottom":"20px"}},[e("HeaderBar")],1),e("div",{staticClass:"main-content"},[e("el-scrollbar",{attrs:{"wrap-class":"scrollbar"}},[e("router-view",{staticStyle:{flex:"1"},on:{"update:user":t.updateUser}})],1)],1)])])},o=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-bar clear-fix"},[e("BreadCrumbs"),e("div",{staticClass:"header-right clear-fix"},["USER"==t.userInfo.role?e("el-button",{attrs:{size:"small",plain:"",type:"warning"},nativeOn:{click:function(e){return t.$router.push("/front")}}},[t._v("返回主页")]):t._e(),e("UserAvatar")],1)],1)},l=[],c=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center","font-size":"large"}},[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/showView"}}},[t._v("首页")]),t._l(t.BreadcrumbItemList,(function(a){return e("el-breadcrumb-item",{key:a.path,staticStyle:{"font-size":"large"}},[t._v(t._s(a.meta.title))])}))],2)],1)},d=[],u={name:"BreadCrumbs",data(){return{hasClick:!1}},computed:{BreadcrumbItemList(){return this.$route.matched}},created(){this.isHome(this.$route.path)},methods:{isHome(t){this.hasClick="/showView"!==t},goHome(){this.$router.push("/showView")}}},m=u,p=a(1656),h=(0,p.A)(m,c,d,!1,null,null,null),f=h.exports,g=a(3010),v={inject:["userInfo"],name:"header",components:{BreadCrumbs:f,UserAvatar:g.A}},b=v,C=(0,p.A)(b,n,l,!1,null,null,null),y=C.exports,_=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"aside-container"},[t._m(0),e("div",{staticClass:"menu-container"},[e("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{width:"220px"},attrs:{"default-active":"dashboard",router:"","background-color":"white","text-color":"rgb(77, 74, 74)"}},t._l(t.userMenuList,(function(a){return e("div",{key:a.id},[a.path?e("div",[a.pid?t._e():e("div",[e("el-menu-item",{attrs:{index:a.path}},[e("span",{class:a.icon,staticStyle:{"margin-right":"5px"}}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.name))])])],1)]):e("div",[e("el-submenu",{attrs:{index:a.id+"","text-color":"#fff"}},[e("template",{slot:"title"},[e("span",{class:a.icon}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.name))])]),t._l(a.children,(function(a){return e("div",{key:a.id},[t._v(" "+t._s(t.printMenu(a))+" "),e("el-menu-item",{staticStyle:{display:"flex","align-items":"center"},attrs:{index:a.path}},[e("template",{slot:"title"},[e("span",{class:a.icon}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.name))])])],2)],1)}))],2)],1)])})),0)],1)])},w=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"aside-logo"},[e("div",{staticClass:"logo-container"},[e("div",{staticClass:"icon-wrapper"},[e("i",{staticClass:"el-icon-star-on"}),e("i",{staticClass:"el-icon-pet main-icon"}),e("i",{staticClass:"el-icon-star-on"})]),e("div",{staticClass:"text-wrapper"},[e("span",{staticClass:"logo-text"},[t._v("萌宠乐园")]),e("span",{staticClass:"logo-subtitle"},[t._v("Pet Paradise")])])])])}];const S={name:"Aside",components:{},created(){let t=sessionStorage.getItem("userMenuList");this.userMenuList=t?JSON.parse(t):[]},data(){return{userMenuList:[],user:{},path:this.$route.path}},methods:{printMenu(t){}}};var A=Object.assign(S,{setup(t){return{__sfc:!0}}}),x=A,k=(0,p.A)(x,_,w,!1,null,"d28d9716",null),T=k.exports,$=a.p+"img/logo.8d885758.png",L={name:"Layout",data(){return{userInfo:JSON.parse(sessionStorage.getItem("user")||{}),logoUrl:$}},created(){},provide(){return{userInfo:this.userInfo}},components:{HeaderBar:y,SideMenu:T},computed:{},methods:{updateUser(t){this.userInfo=t}}},F=L,I=(0,p.A)(F,r,o,!1,null,null,null),P=I.exports,D=a(6273),B=a(7836),N=a(3156),z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pet-detail-container"},[e("div",{staticClass:"pet-detail-header"},[e("h1",[t._v("宠物简历")]),e("el-button",{staticClass:"health-record-btn",attrs:{type:"primary",round:""},on:{click:function(e){return t.$refs.medicalApply.handleCreate()}}},[e("i",{staticClass:"el-icon-document"}),t._v(" 健康记录 ")])],1),e("div",{staticClass:"pet-detail-content"},[e("div",{staticClass:"pet-avatar-section"},[e("el-avatar",{staticClass:"pet-avatar",attrs:{size:120,src:t.HOST+t.animal.img}}),e("h2",{staticClass:"pet-name"},[t._v(t._s(t.animal.name))]),e("div",{staticClass:"pet-status"},[e("el-tag",{attrs:{type:t.getStatusType(t.animal.status)}},[t._v(t._s(t.animal.status))])],1)],1),e("el-descriptions",{staticClass:"pet-info",attrs:{column:2,border:""}},[e("el-descriptions-item",{attrs:{label:"性别"}},[e("i",{staticClass:"el-icon-user"}),t._v(" "+t._s(t.animal.sex)+" ")]),e("el-descriptions-item",{attrs:{label:"年龄"}},[e("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.animal.age)+"岁 ")]),e("el-descriptions-item",{attrs:{label:"种类"}},[e("i",{staticClass:"el-icon-pet"}),t._v(" "+t._s(t.animal.type)+" ")]),e("el-descriptions-item",{attrs:{label:"品种"}},[t._v(" "+t._s(t.animal.breed)+" ")]),e("el-descriptions-item",{attrs:{label:"注册日期"}},[e("i",{staticClass:"el-icon-date"}),t._v(" "+t._s(t.animal.registrationDate)+" ")]),e("el-descriptions-item",{attrs:{label:"颜色"}},[t._v(" "+t._s(t.animal.color)+" ")]),e("el-descriptions-item",{attrs:{label:"训练状况"}},[t._v(" "+t._s(t.animal.trainingLevel)+" ")]),e("el-descriptions-item",{attrs:{label:"健康状况"}},[t._v(" "+t._s(t.animal.sterilizationStatus)+" ")])],1),t.locationInfo?e("div",{staticClass:"detail-item"},[t._m(0),e("div",{staticClass:"location-info"},[e("p",[e("span",{staticClass:"label"},[t._v("地址：")]),t._v(t._s(t.locationInfo.address))]),e("p",[e("span",{staticClass:"label"},[t._v("经度：")]),t._v(t._s(t.locationInfo.longitude)+"°")]),e("p",[e("span",{staticClass:"label"},[t._v("纬度：")]),t._v(t._s(t.locationInfo.latitude)+"°")]),e("p",[e("span",{staticClass:"label"},[t._v("更新时间：")]),t._v(t._s(t.formatDateTime(t.locationInfo.timestamp)))])])]):t._e(),"审核中"===t.animal.status||"审核不通过"===t.animal.status?e("div",{staticClass:"detail-item"},[t._m(1),e("div",{staticClass:"adoption-info"},[e("el-alert",{attrs:{title:t.getAdoptStatusTitle(t.animal.status),type:t.getAdoptStatusType(t.animal.status),description:t.getAdoptStatusDescription(t.animal.status),"show-icon":""}}),t.adoptRecord&&t.adoptRecord.reviewComment?e("div",{staticClass:"review-comment"},[e("h4",[t._v("审核意见：")]),e("p",[t._v(t._s(t.adoptRecord.reviewComment))]),t.adoptRecord.reviewTime?e("p",[e("small",[t._v("审核时间: "+t._s(t.adoptRecord.reviewTime))])]):t._e()]):t._e()],1)]):t._e(),e("div",{staticClass:"pet-details-section"},[e("div",{staticClass:"detail-item"},[t._m(2),e("p",[t._v(t._s(t.animal.behaviorTraits))])]),e("div",{staticClass:"detail-item"},[t._m(3),e("p",[t._v(t._s(t.animal.specialNeeds))])])])],1),e("HealthRecordDialog",{ref:"medicalApply",attrs:{petId:Number(t.animal.id||t.$route.params.id||t.$route.params.pet&&t.$route.params.pet.id||0)}})],1)},E=[function(){var t=this,e=t._self._c;return e("h3",[e("i",{staticClass:"el-icon-location"}),t._v(" 最新位置")])},function(){var t=this,e=t._self._c;return e("h3",[e("i",{staticClass:"el-icon-info-circle"}),t._v(" 领养状态信息")])},function(){var t=this,e=t._self._c;return e("h3",[e("i",{staticClass:"el-icon-star-on"}),t._v(" 行为特征")])},function(){var t=this,e=t._self._c;return e("h3",[e("i",{staticClass:"el-icon-warning-outline"}),t._v(" 特殊要求")])}],O=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:"宠物健康记录",visible:t.visible,width:"800px","custom-class":"health-record-dialog","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e}}},[e("div",{staticClass:"health-record-content"},[t.healthRecords.length>0?e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.healthRecords,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"recordDate",label:"记录日期",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("i",{staticClass:"el-icon-date"}),t._v(" "+t._s(a.row.recordDate)+" ")]}}],null,!1,161846028)}),e("el-table-column",{attrs:{prop:"temperature",label:"体温",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{size:"medium",type:t.getTemperatureType(a.row.temperature)}},[t._v(" "+t._s(a.row.temperature)+"°C ")])]}}],null,!1,2304843382)}),e("el-table-column",{attrs:{prop:"weight",label:"体重",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.weight)+"kg ")]}}],null,!1,4045342065)}),e("el-table-column",{attrs:{prop:"height",label:"身高",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.height)+"cm ")]}}],null,!1,1245187116)}),e("el-table-column",{attrs:{prop:"vaccinationDate",label:"疫苗接种日期",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("i",{staticClass:"el-icon-timer"}),t._v(" "+t._s(a.row.vaccinationDate)+" ")]}}],null,!1,299599935)}),e("el-table-column",{attrs:{prop:"healthStatus",label:"健康状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:t.getHealthStatusType(a.row.healthStatus)}},[t._v(" "+t._s(a.row.healthStatus)+" ")])]}}],null,!1,2617976879)})],1):e("div",{staticClass:"empty-state"},[e("i",{staticClass:"el-icon-document"}),e("p",[t._v("暂无健康记录")])])],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.handleClose}},[t._v("关 闭")])],1)])},R=[],V=a(7120),H={props:{petId:{type:Number,required:!0,default:0}},data(){return{healthRecords:[],visible:!1}},methods:{handleCreate(){this.visible=!0,this.fetchHealthRecords(),document.body.style.overflow="auto"},handleClose(){this.visible=!1,this.healthRecords=[],document.body.style.overflow="auto"},fetchHealthRecords(){V.A.get(`/health-record/selectByPetId/${this.petId}`).then((t=>{0==t.code?this.healthRecords=t.data||[]:this.$message.error(t.msg||"获取健康记录失败")})).catch((t=>{console.error("获取健康记录失败:",t),this.$message.error("获取健康记录失败")}))},getTemperatureType(t){if(!t)return"info";const e=parseFloat(t);return e>39.5?"danger":e<37.5?"warning":"success"},getHealthStatusType(t){switch(t){case"健康":return"success";case"生病":return"danger";case"治疗中":return"warning";default:return"info"}}},beforeDestroy(){document.body.style.overflow="auto"}},W=H,M=(0,p.A)(W,O,R,!1,null,"fc3cf400",null),U=M.exports,j={components:{HealthRecordDialog:U},data(){return{animal:{},locationInfo:null,locationTimer:null,currentPetId:null,adoptRecord:null}},created(){this.initPetData()},mounted(){this.$route.params.pet&&this.$route.params.pet.id&&this.fetchPetData(this.$route.params.pet.id)},watch:{$route(t){t.params.pet&&t.params.pet.id?(this.currentPetId=Number(t.params.pet.id),this.animal=t.params.pet,this.fetchPetData(this.currentPetId)):t.params.id&&(this.currentPetId=Number(t.params.id),this.fetchPetData(this.currentPetId))}},computed:{petId(){return Number(this.animal.id||this.currentPetId||0)}},beforeDestroy(){this.locationTimer&&clearInterval(this.locationTimer)},methods:{initPetData(){this.$route.params.pet&&this.$route.params.pet.id?(this.animal=this.$route.params.pet,this.currentPetId=Number(this.$route.params.pet.id),this.fetchLatestLocation(),this.startLocationPolling(),this.fetchAdoptRecord(this.currentPetId)):this.$route.params.id&&(this.currentPetId=Number(this.$route.params.id),this.fetchPetData(this.currentPetId))},formatDateTime(t){if(!t)return"";const e=new Date(t),a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),n=String(e.getSeconds()).padStart(2,"0");return`${a}-${s}-${i} ${r}:${o}:${n}`},getStatusType(t){switch(t){case"健康":case"领养中":return"success";case"生病":case"审核不通过":return"danger";case"治疗中":case"审核中":return"warning";default:return"info"}},getAdoptStatusTitle(t){return"审核中"===t?"您的领养申请正在审核中":"审核不通过"===t?"您的领养申请未通过审核":""},getAdoptStatusType(t){return"审核中"===t?"warning":"审核不通过"===t?"error":"info"},getAdoptStatusDescription(t){return"审核中"===t?"请耐心等待工作人员审核您的领养申请，我们会尽快处理。":"审核不通过"===t?"很遗憾，您的领养申请未能通过审核，您可以重新提交申请或选择其他宠物。":""},fetchAdoptRecord(t){if(!t)return;const e={animalId:t};V.A.get("/adopt/selectAll",{params:e}).then((t=>{"0"===t.code&&t.data&&t.data.length>0&&(this.adoptRecord=t.data[0])})).catch((t=>{console.error("获取领养记录失败:",t)}))},fetchLatestLocation(){this.animal.id&&V.A.get(`/pet-location/latest/${this.animal.id}`).then((t=>{"0"===t.code&&t.data&&(this.locationInfo=t.data)})).catch((t=>{console.error("获取位置信息失败:",t)}))},startLocationPolling(){this.locationTimer&&clearInterval(this.locationTimer),this.locationTimer=setInterval((()=>{this.fetchLatestLocation()}),3e4)},fetchPetData(t){t&&V.A.get(`/animal/selectById/${t}`).then((e=>{"0"===e.code&&e.data&&(this.animal=e.data,this.fetchLatestLocation(),this.startLocationPolling(),this.fetchAdoptRecord(t))})).catch((t=>{console.error("Error loading pet data:",t),this.$message.error("获取宠物信息失败")}))}}},K=j,q=(0,p.A)(K,z,E,!1,null,"73b5aafd",null),Q=q.exports,G=a(2549),J=a(7187),Y=a(4927),X=a.n(Y);s["default"].use(i.Ay);const Z=i.Ay.prototype.push;i.Ay.prototype.push=function(t){return Z.call(this,t).catch((t=>t))};const tt=[{path:"/",name:"loginLayout",meta:{name:"登陆注册布局"},redirect:"/login",component:()=>a.e(852).then(a.bind(a,1852)),children:[{path:"/login",name:"Login",meta:{name:"登录"},component:()=>a.e(803).then(a.bind(a,6803))},{path:"/forget",name:"Forget",meta:{name:"找回密码"},component:()=>a.e(179).then(a.bind(a,2179))},{path:"/completeInfo",name:"CompleteInfo",meta:{name:"完善信息"},component:()=>a.e(277).then(a.bind(a,277))}]},{path:"/front",name:"front",redirect:"/frontHome",component:()=>a.e(909).then(a.bind(a,6909)),children:[{path:"/frontHome",name:"frontHome",component:B["default"]},{path:"/petDetail",name:"petDetail",component:Q},{path:"/petAdoptFront",name:"petAdoptFront",component:G["default"]},{path:"/petGoods",name:"petGoods",component:J["default"]},{path:"/petServices",name:"petServices",component:()=>a.e(293).then(a.bind(a,7293))}]},{path:"/404",name:"404",component:()=>a.e(442).then(a.bind(a,6442))}],et=new i.Ay({mode:"history",base:"/700Nove/",routes:tt}),at=()=>{const t=sessionStorage.getItem("userMenuList");if(t){const e=et.getRoutes().map((t=>t.name));if(e.includes("Layout"))console.log("未重新加入manage路由");else{const e={path:"/",name:"home",component:P,redirect:"/showView",children:[{path:"/showView",name:"homeView",component:D["default"],meta:{title:"首页"}},{path:"/menu",name:"Menu",component:N["default"],meta:{title:"菜单管理"}}]},s=JSON.parse(t);s.forEach((t=>{if(t.path){t.pagePath;const s={path:t.path.replace("/",""),name:t.name,component:()=>a(4235)(`./${t.pagePath}.vue`),meta:{title:t.name}};e.children.push(s)}else t.children?.length&&t.children.forEach((t=>{if(t.path){const s={path:t.path.replace("/",""),name:t.name,component:()=>a(4235)(`./${t.pagePath}.vue`),meta:{title:t.name}};e.children.push(s)}}))})),et.addRoute(e),console.log("1---重新加入manage路由")}}};at(),et.beforeEach(((t,e,a)=>{t.name&&localStorage.setItem("currentPathName",t.name);const s=sessionStorage.getItem("user");t.matched.length?s||"/login"===t.path||"/forget"===t.path||"/completeInfo"===t.path?a():(X().Message({message:"请先登录",type:"warning"}),a("/login")):a("/404")}));var st=et},186:function(t,e,a){"use strict";a(4114),a(6573),a(8100),a(7936),a(7467),a(4732),a(9577);var s=a(2116),i=a(3580);function r(t,e){const a=e.map((t=>t.map((t=>null==t?{wch:10}:t.toString().charCodeAt(0)>255?{wch:2*t.toString().length}:{wch:t.toString().length})))),s=a[0];for(let i=1;i<a.length;i++)for(let t=0;t<a[i].length;t++)s[t].wch<a[i][t].wch&&(s[t].wch=a[i][t].wch);t["!cols"]=s}function o(t,e){return e.map((e=>t.map((t=>e[t]))))}function n(t){const e=new ArrayBuffer(t.length),a=new Uint8Array(e);for(let s=0;s!==t.length;++s)a[s]=255&t.charCodeAt(s);return e}function l({header:t,key:e,data:a,fileName:l,autoWidth:c=!0,bookType:d="xlsx"}={}){const u=s.Wp.book_new(),m=o(e,a);l=l||"excel-list",m.unshift(t);const p=s.Wp.aoa_to_sheet(m);c&&r(p,m),s.Wp.book_append_sheet(u,p,l);const h=s.M9(u,{bookType:d,bookSST:!1,type:"binary"});(0,i.saveAs)(new Blob([n(h)],{type:"application/octet-stream"}),`${l}.${d}`)}function c(t){const e=[],a=s.Wp.decode_range(t["!ref"]);let i;const r=a.s.r;for(i=a.s.c;i<=a.e.c;++i){const a=t[s.Wp.encode_cell({c:i,r:r})];let o="UNKNOWN "+i;a&&a.t&&(o=s.Wp.format_cell(a)),e.push(o)}return e}function d(t,e){const a=s.LF(t,{type:e}),i=a.SheetNames[0],r=a.Sheets[i],o=c(r),n=s.Wp.sheet_to_json(r);return{header:o,results:n}}e.Ay={exportDataToExcel:l,readDataFromExcel:d}},7120:function(t,e,a){"use strict";var s=a(417);a(5441);const i=s.A.create({baseURL:"/api",timeout:5e5});window.onerror=function(t,e,a){console.error("发生未捕获的错误:",t)},i.interceptors.response.use((t=>{if("blob"===t.config.responseType)return t;let e=t.data;switch("string"===typeof e&&(e=JSON.parse(e)),t.status){case 200:break;case 500:alert("服务器内部错误，请稍后再试！");break;case 403:alert("您没有权限访问该资源！");break;case 408:alert("请求超时，请检查您的网络连接！");break;case 401:alert("登录失效，请重新登录！");break;default:break}return e}),(t=>{const{status:e,data:a}=t.response;return console.log("服务器错误"),console.log(e+"   "+a),500==e&&alert("服务器内部错误，请稍后再试！"),Promise.reject(t)})),e.A=i},4235:function(t,e,a){var s={"./404.vue":[6442,442],"./Adopt.vue":[2120,120],"./AdoptPet.vue":[2549],"./Animal.vue":[589,589],"./Breed.vue":[4884,884],"./CompleteInfo.vue":[277,277],"./Forget.vue":[2179,179],"./Foster.vue":[410,410],"./Goods.vue":[3350,350],"./GoodsBuy.vue":[7187],"./HealthRecord.vue":[7576,576],"./HomeSlider.vue":[7990,990],"./Login.vue":[6803,803],"./LogisticsCompany.vue":[685,685],"./Menu.vue":[3156],"./NoticeList.vue":[1883,883],"./Orders.vue":[8217,217],"./Password.vue":[1788,788],"./PersonInfo.vue":[48,48],"./PetGrooming.vue":[6046,46],"./PetMedical.vue":[1972,972],"./PetNotificationManagement.vue":[1986,986],"./Room.vue":[7306,306],"./Submit.vue":[7289,289],"./Training.vue":[8256,256],"./TrainingName.vue":[4890,890],"./Transportation.vue":[2173,173],"./UserManager.vue":[881,881],"./front/HomePage/FrontHome.vue":[7836],"./front/HomePage/showView.vue":[338],"./front/Service.vue":[7293,293],"./showView.vue":[6273]};function i(t){if(!a.o(s,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=s[t],i=e[0];return Promise.all(e.slice(1).map(a.e)).then((function(){return a(i)}))}i.keys=function(){return Object.keys(s)},i.id=4235,t.exports=i}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,i,r){if(!s){var o=1/0;for(d=0;d<t.length;d++){s=t[d][0],i=t[d][1],r=t[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(n=!1,r<o&&(o=r));if(n){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,s){return a.f[s](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{46:"00fd1893",48:"f93f0024",120:"5643c2ee",173:"1b4e3a7c",179:"9ef1ea43",217:"293b65f1",256:"7fd11d19",277:"9c5af2ef",289:"e6e16342",293:"04fc7dca",306:"03a7aa3f",350:"2f065d3e",410:"dac7b97a",442:"5cdb7d3e",576:"832af387",589:"0cfcf630",685:"4fd48827",788:"e53de57b",803:"148298cf",852:"871452d4",881:"73323689",883:"39071d06",884:"d316dde1",890:"517a590c",909:"8c3499f7",972:"5b64535f",986:"feb04bcf",990:"b5f5b02e"}[t]+".js"}}(),function(){a.miniCssF=function(t){return"css/"+t+"."+{46:"c2b0b38b",48:"9af1d539",120:"25f70871",173:"dffd6ce2",179:"a5f0b5e1",217:"7a48d7af",256:"3062bab1",277:"bfe7e265",289:"b704a0f8",293:"9acbb544",306:"6d4e2bbe",350:"e3cf6fa3",410:"48119a84",442:"edda13d8",576:"0a897ce6",589:"b1239ce8",685:"77f0a00b",788:"dd13f389",803:"e57420c5",852:"db288473",881:"ecc43d07",883:"dbe79329",884:"50c60e00",890:"c11b4682",909:"525eec81",972:"922cd64b",986:"3c1dd623",990:"26b358a9"}[t]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="pet:";a.l=function(s,i,r,o){if(t[s])t[s].push(i);else{var n,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==e+r){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",e+r),n.src=s),t[s]=[i];var m=function(e,a){n.onerror=n.onload=null,clearTimeout(p);var i=t[s];if(delete t[s],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(t){return t(a)})),e)return e(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/700Nove/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,s,i,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",a.nc&&(o.nonce=a.nc);var n=function(a){if(o.onerror=o.onload=null,"load"===a.type)i();else{var s=a&&a.type,n=a&&a.target&&a.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+s+": "+n+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=n,o.parentNode&&o.parentNode.removeChild(o),r(l)}};return o.onerror=o.onload=n,o.href=e,s?s.parentNode.insertBefore(o,s.nextSibling):document.head.appendChild(o),o},e=function(t,e){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var i=a[s],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===t||r===e))return i}var o=document.getElementsByTagName("style");for(s=0;s<o.length;s++){i=o[s],r=i.getAttribute("data-href");if(r===t||r===e)return i}},s=function(s){return new Promise((function(i,r){var o=a.miniCssF(s),n=a.p+o;if(e(o,n))return i();t(s,n,null,i,r)}))},i={524:0};a.f.miniCss=function(t,e){var a={46:1,48:1,120:1,173:1,179:1,217:1,256:1,277:1,289:1,293:1,306:1,350:1,410:1,442:1,576:1,589:1,685:1,788:1,803:1,852:1,881:1,883:1,884:1,890:1,909:1,972:1,986:1,990:1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=s(t).then((function(){i[t]=0}),(function(e){throw delete i[t],e})))}}}(),function(){var t={524:0};a.f.j=function(e,s){var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)s.push(i[2]);else{var r=new Promise((function(a,s){i=t[e]=[a,s]}));s.push(i[2]=r);var o=a.p+a.u(e),n=new Error,l=function(s){if(a.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var r=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;n.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",n.name="ChunkLoadError",n.type=r,n.request=o,i[1](n)}};a.l(o,l,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,o=s[0],n=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(l)var d=l(a)}for(e&&e(s);c<o.length;c++)r=o[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},s=self["webpackChunkpet"]=self["webpackChunkpet"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(6759)}));s=a.O(s)})();
//# sourceMappingURL=app.3655a880.js.map