{"version":3,"file":"js/803.148298cf.js","mappings":"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","sources":["webpack://pet/./src/views/Login.vue","webpack://pet/./src/components/Validate.vue","webpack://pet/src/components/Validate.vue","webpack://pet/./src/components/Validate.vue?a5cf","webpack://pet/./src/components/Validate.vue?6978","webpack://pet/src/views/Login.vue","webpack://pet/./src/views/Login.vue?3cb7","webpack://pet/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-wrapper\"},[_c('el-card',{staticClass:\"login-card\"},[_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"login-image\"},[_c('img',{attrs:{\"src\":require(\"../assets/猫狗双全.png\"),\"alt\":\"宠物之家\"}}),_c('div',{staticClass:\"image-overlay\"})]),_c('div',{staticClass:\"form-container\"},[_c('div',{staticClass:\"title-container\"},[_c('h1',{staticClass:\"main-title\"},[_vm._v(\"萌宠之家\")]),_c('p',{staticClass:\"sub-title\"},[_vm._v(\"Pet Paradise\")])]),_c('div',{staticClass:\"toggle-container\"},[_c('el-button',{attrs:{\"type\":_vm.isLoginActive ? 'primary' : '',\"round\":\"\"},on:{\"click\":function($event){return _vm.switchMode('login')}}},[_vm._v(\" 登录 \")]),_c('el-button',{attrs:{\"type\":!_vm.isLoginActive ? 'primary' : '',\"round\":\"\"},on:{\"click\":function($event){return _vm.switchMode('register')}}},[_vm._v(\" 注册 \")])],1),(_vm.isLoginActive)?_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\",\"prefix-icon\":\"el-icon-user\",\"round\":\"\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\",\"prefix-icon\":\"el-icon-lock\",\"round\":\"\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('div',{staticClass:\"verify-code-container\"},[_c('el-input',{staticClass:\"verify-input\",attrs:{\"placeholder\":\"验证码\",\"round\":\"\"},model:{value:(_vm.loginForm.validCode),callback:function ($$v) {_vm.$set(_vm.loginForm, \"validCode\", $$v)},expression:\"loginForm.validCode\"}}),_c('ValidCode',{staticClass:\"valid-code\",on:{\"input\":_vm.createValidCode}})],1)]),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.onLogin}},[_vm._v(\" 登录 \")])],1),_c('div',{staticClass:\"form-footer\"},[_c('span',{staticClass:\"forget-link\",on:{\"click\":_vm.toForget}},[_vm._v(\"忘记密码?\")])])],1):_c('el-form',{ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.registerRules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\",\"prefix-icon\":\"el-icon-user\",\"round\":\"\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\",\"prefix-icon\":\"el-icon-lock\",\"round\":\"\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"邮箱\",\"prefix-icon\":\"el-icon-message\",\"round\":\"\"},model:{value:(_vm.registerForm.email),callback:function ($$v) {_vm.$set(_vm.registerForm, \"email\", $$v)},expression:\"registerForm.email\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('div',{staticClass:\"verify-code-container\"},[_c('el-input',{staticClass:\"verify-input\",attrs:{\"placeholder\":\"邮箱验证码\",\"round\":\"\"},model:{value:(_vm.registerForm.code),callback:function ($$v) {_vm.$set(_vm.registerForm, \"code\", $$v)},expression:\"registerForm.code\"}}),_c('el-button',{staticClass:\"verify-btn\",attrs:{\"type\":\"primary\",\"round\":\"\",\"disabled\":_vm.sendDisabled},on:{\"click\":_vm.sendVerificationCode}},[_vm._v(\" \"+_vm._s(_vm.buttonContent)+\" \")])],1)]),_c('el-form-item',{attrs:{\"prop\":\"role\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择身份\"},model:{value:(_vm.registerForm.role),callback:function ($$v) {_vm.$set(_vm.registerForm, \"role\", $$v)},expression:\"registerForm.role\"}},[_c('el-option',{attrs:{\"label\":\"普通用户\",\"value\":\"USER\"}}),_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"ADMIN\"}})],1)],1),(_vm.registerForm.role === 'ADMIN')?[_c('el-form-item',{attrs:{\"prop\":\"invitationCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"邀请码\",\"prefix-icon\":\"el-icon-unlock\",\"round\":\"\"},model:{value:(_vm.registerForm.invitationCode),callback:function ($$v) {_vm.$set(_vm.registerForm, \"invitationCode\", $$v)},expression:\"registerForm.invitationCode\"}})],1)]:_vm._e(),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.onRegister}},[_vm._v(\" 注册 \")])],1)],2)],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ValidCode disabled-select\",style:(`width:${_vm.width}; height:${_vm.height}`),on:{\"click\":_vm.refreshCode}},_vm._l((_vm.codeList),function(item,index){return _c('span',{key:index,style:(_vm.getStyle(item))},[_vm._v(_vm._s(item.code))])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div\n        class=\"ValidCode disabled-select\"\n        :style=\"`width:${width}; height:${height}`\"\n        @click=\"refreshCode\"\n    >\n      <span\n          v-for=\"(item, index) in codeList\"\n          :key=\"index\"\n          :style=\"getStyle(item)\"\n      >{{ item.code }}</span>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: 'ValidCode',\n    model: {\n      prop: 'value',\n      event: 'input'\n    },\n    props: {\n      width: {\n        type: String,\n        default: '100px'\n      },\n      height: {\n        type: String,\n        default: '40px'\n      },\n      length: {\n        type: Number,\n        default: 4\n      },\n      refresh: {\n        type: Number\n      }\n    },\n    data () {\n      return {\n        codeList: []\n      }\n    },\n    watch: {\n      refresh () {\n        this.createdCode()\n      }\n    },\n    mounted () {\n      this.createdCode()\n    },\n    methods: {\n      refreshCode () {\n        this.createdCode()\n      },\n      createdCode () {\n        const len = this.length\n        const codeList = []\n        const chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789'\n        const charsLen = chars.length\n        // 生成\n        for (let i = 0; i < len; i++) {\n          const rgb = [Math.round(Math.random() * 220), Math.round(Math.random() * 240), Math.round(Math.random() * 200)]\n          codeList.push({\n            code: chars.charAt(Math.floor(Math.random() * charsLen)),\n            color: `rgb(${rgb})`,\n            fontSize: `${10 + (+[Math.floor(Math.random() * 10)] + 6)}px`,\n            padding: `${[Math.floor(Math.random() * 10)]}px`,\n            transform: `rotate(${Math.floor(Math.random() * 90) - Math.floor(Math.random() * 90)}deg)`\n          })\n        }\n        // 指向\n        this.codeList = codeList\n\n        this.$emit('input', codeList.map(item => item.code).join(''))\n      },\n      getStyle (data) {\n        return `color: ${data.color}; font-size: ${data.fontSize}; padding: ${data.padding}; transform: ${data.transform}`\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .ValidCode{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n  }\n  .ValidCode span{\n    display: inline-block;\n  }\n  </style>\n  ","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Validate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Validate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Validate.vue?vue&type=template&id=43a2c60e&scoped=true\"\nimport script from \"./Validate.vue?vue&type=script&lang=js\"\nexport * from \"./Validate.vue?vue&type=script&lang=js\"\nimport style0 from \"./Validate.vue?vue&type=style&index=0&id=43a2c60e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43a2c60e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"login-wrapper\">\n    <el-card class=\"login-card\">\n      <div class=\"card-content\">\n        <!-- 左侧图片 -->\n        <div class=\"login-image\">\n          <img src=\"../assets/猫狗双全.png\" alt=\"宠物之家\" />\n          <div class=\"image-overlay\"></div>\n        </div>\n        \n        <!-- 右侧登录/注册表单 -->\n        <div class=\"form-container\">\n          <!-- 标题 -->\n          <div class=\"title-container\">\n            <h1 class=\"main-title\">萌宠之家</h1>\n            <p class=\"sub-title\">Pet Paradise</p>\n          </div>\n          \n          <!-- 切换按钮 -->\n          <div class=\"toggle-container\">\n            <el-button \n              :type=\"isLoginActive ? 'primary' : ''\" \n              round\n              @click=\"switchMode('login')\"\n            >\n              登录\n            </el-button>\n            <el-button \n              :type=\"!isLoginActive ? 'primary' : ''\" \n              round\n              @click=\"switchMode('register')\"\n            >\n              注册\n            </el-button>\n          </div>\n          \n          <!-- 登录表单 -->\n          <el-form \n            v-if=\"isLoginActive\" \n            ref=\"loginForm\" \n            :model=\"loginForm\" \n            :rules=\"loginRules\"\n          >\n            <el-form-item prop=\"username\">\n              <el-input \n                v-model=\"loginForm.username\" \n                placeholder=\"用户名\"\n                prefix-icon=\"el-icon-user\"\n                round\n              ></el-input>\n            </el-form-item>\n            \n            <el-form-item prop=\"password\">\n              <el-input \n                type=\"password\" \n                v-model=\"loginForm.password\" \n                placeholder=\"密码\"\n                prefix-icon=\"el-icon-lock\"\n                round\n              ></el-input>\n            </el-form-item>\n            \n            <el-form-item>\n              <div class=\"verify-code-container\">\n                <el-input \n                  v-model=\"loginForm.validCode\" \n                  placeholder=\"验证码\"\n                  class=\"verify-input\"\n                  round\n                ></el-input>\n                <ValidCode @input=\"createValidCode\" class=\"valid-code\" />\n              </div>\n            </el-form-item>\n            \n            <el-form-item>\n              <el-button type=\"primary\" style=\"width: 100%;\" round @click=\"onLogin\">\n                登录\n              </el-button>\n            </el-form-item>\n            \n            <div class=\"form-footer\">\n              <span class=\"forget-link\" @click=\"toForget\">忘记密码?</span>\n            </div>\n          </el-form>\n          \n          <!-- 注册表单 -->\n          <el-form \n            v-else \n            ref=\"registerForm\" \n            :model=\"registerForm\" \n            :rules=\"registerRules\"\n          >\n            <el-form-item prop=\"username\">\n              <el-input \n                v-model=\"registerForm.username\" \n                placeholder=\"用户名\"\n                prefix-icon=\"el-icon-user\"\n                round\n              ></el-input>\n            </el-form-item>\n            \n            <el-form-item prop=\"password\">\n              <el-input \n                type=\"password\" \n                v-model=\"registerForm.password\" \n                placeholder=\"密码\"\n                prefix-icon=\"el-icon-lock\"\n                round\n              ></el-input>\n            </el-form-item>\n            \n            <el-form-item prop=\"email\">\n              <el-input \n                v-model=\"registerForm.email\" \n                placeholder=\"邮箱\"\n                prefix-icon=\"el-icon-message\"\n                round\n              ></el-input>\n            </el-form-item>\n            \n            <el-form-item prop=\"code\">\n              <div class=\"verify-code-container\">\n                <el-input \n                  v-model=\"registerForm.code\" \n                  placeholder=\"邮箱验证码\"\n                  class=\"verify-input\"\n                  round\n                ></el-input>\n                <el-button \n                  type=\"primary\" \n                  class=\"verify-btn\" \n                  round\n                  @click=\"sendVerificationCode\"\n                  :disabled=\"sendDisabled\"\n                >\n                  {{ buttonContent }}\n                </el-button>\n              </div>\n            </el-form-item>\n            \n            <el-form-item prop=\"role\">\n              <el-select v-model=\"registerForm.role\" placeholder=\"请选择身份\" style=\"width: 100%;\">\n                <el-option label=\"普通用户\" value=\"USER\"></el-option>\n                <el-option label=\"管理员\" value=\"ADMIN\"></el-option>\n              </el-select>\n            </el-form-item>\n            \n            <template v-if=\"registerForm.role === 'ADMIN'\">\n              <el-form-item prop=\"invitationCode\">\n                <el-input \n                  v-model=\"registerForm.invitationCode\" \n                  placeholder=\"邀请码\"\n                  prefix-icon=\"el-icon-unlock\"\n                  round\n                ></el-input>\n              </el-form-item>\n            </template>\n            \n            <el-form-item>\n              <el-button type=\"primary\" style=\"width: 100%;\" round @click=\"onRegister\">\n                注册\n              </el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport ValidCode from \"../components/Validate\";\nimport request from \"@/utils/request\";\nimport {setRoutes} from \"@/router\";\n\nexport default {\n  name: 'Login',\n  components: {\n    ValidCode\n  },\n  data() {\n    return {\n      adminVitationCode: '123456',\n      countdown: 0,\n      sendDisabled: false,\n      timer: null,\n      emailCode: '',\n      buttonContent: '发送验证码',\n      validCode: '',\n      isLoginActive: true,\n      loginForm: {\n        username: '',\n        password: '',\n        validCode: ''\n      },\n      registerForm: {\n        username: '',\n        password: '',\n        email: '',\n        code: '',\n        role: 'USER',\n        invitationCode: ''\n      },\n      loginRules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger:['blur','change'] },\n          { min: 3, max: 20, message: '长度在 3 到 20 个字符',trigger:['blur','change'] }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, max: 20, message: '长度在 6 到 20 个字符', trigger: 'blur' }\n        ]\n      },\n      registerRules: {\n        username: [\n          { required: true, message: '请输入用户名',  },\n          { min: 3, max: 20, message: '长度在 3 到 20 个字符', }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, max: 20, message: '长度在 6 到 20 个字符', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { type: 'email', message: '请输入有效的邮箱地址', trigger: 'blur' }\n        ],\n        invitationCode: [\n          { required: true, message: '请输入邀请码', trigger: 'blur' },\n          { min: 6, max: 6, message: '邀请码长度必须为6位', trigger: 'blur' }\n        ]\n      }\n    };\n  },\n  methods: {\n    switchMode(mode) {\n      this.isLoginActive = mode === 'login';\n      if(this.isLoginActive==false) {\n        this.$nextTick(() => {\n          this.$refs['registerForm'].clearValidate()\n        })\n      }\n      else{\n        this.$nextTick(() => {\n          this.$refs['loginForm'].clearValidate()\n        })\n      }\n    },\n    sendVerificationCode() {\n      if (this.sendDisabled) return;\n\n      request.post(\"/email/sendEmail\", this.registerForm).then(res => {\n        if (res.code == '0') {\n          this.$message({\n            type: 'success',\n            message: \"验证码已发送到您的邮箱,请查收\"\n          })\n          this.emailCode = res.data;\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          })\n          return\n        }\n      })\n      this.countdown = 60;\n      this.sendDisabled = true;\n      this.buttonContent = `${this.countdown}秒后可重发`;\n\n      this.timer = setInterval(() => {\n        if (this.countdown > 0) {\n          this.countdown--;\n          this.buttonContent = `${this.countdown}秒后可重发`;\n        } else {\n          clearInterval(this.timer);\n          this.countdown = 0;\n          this.sendDisabled = false;\n          this.buttonContent = '发送验证码';\n        }\n      }, 1000);\n    },\n    onRegister() {\n      this.$refs.registerForm.validate((valid) => {\n        if (valid) {\n          if (this.registerForm.code != this.emailCode) {\n            this.$message({\n              type: 'error',\n              message: '验证码不正确'\n            });\n            return;\n          }\n          if (this.registerForm.role == 'ADMIN') {\n            if (this.registerForm.invitationCode != this.adminVitationCode) {\n              this.$message({\n                type: 'error',\n                message: '邀请码错误'\n              });\n              return;\n            }\n          }\n          request.post(\"/user\", this.registerForm).then(res => {\n            if (res.code == '0') {\n              this.$message({\n                type: 'success',\n                message: \"注册成功\",\n              })\n              this.$router.push({\n                path: '/completeInfo',\n                query: { registerUser: res.data }\n              });\n            } else {\n              this.$message({\n                type: 'error',\n                message: res.msg\n              });\n            }\n          })\n        } else {\n          console.error('注册失败: 表单校验失败');\n          return false;\n        }\n      });\n    },\n    toForget() {\n      this.$router.push(\"/forget\");\n    },\n    createValidCode(data) {\n      this.validCode = data\n    },\n    onLogin() {\n      this.$refs.loginForm.validate((valid) => {\n        if (valid) {\n          if (!this.loginForm.validCode) {\n            this.$message({\n              showClose:true,\n              message: \"请填写验证码\",\n              type: \"error\",\n            });\n            return\n          }\n          if (this.loginForm.validCode.toLowerCase() !== this.validCode.toLowerCase()) {\n            this.$message({\n              showClose:true,\n              message: \"验证码错误\",\n              type: \"error\",\n            });\n            return\n          }\n\n          request.post(\"/user/login\", this.loginForm).then(res => {\n            if (res.code === '0') {\n              this.$message({\n                showClose: true,\n                message: \"登录成功\",\n                type: \"success\"\n              });\n              // 跳转到首页\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data))\n              sessionStorage.setItem(\"userMenuList\", JSON.stringify(res.data.menuList))\n              setRoutes();\n              if(res.data.role=='USER'){\n                this.$router.push(\"/front\");\n              }\n              else{\n                this.$router.push(\"/showView\");\n              }\n            } else {\n              this.$message({\n                showClose: true,\n                message: res.msg,\n                type: \"error\"\n              });\n            }\n          })\n        } else {\n          console.error('登录失败: 表单校验失败');\n          return false;\n        }\n      });\n    }\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n  },\n};\n</script>\n\n<style scoped>\n.login-wrapper {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.login-card {\n  width: 850px;\n  border-radius: 15px;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.card-content {\n  display: flex;\n}\n\n/* 左侧图片 */\n.login-image {\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n\n.login-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.image-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(135deg, rgba(168, 230, 207, 0.3) 0%, rgba(220, 237, 193, 0.3) 100%);\n}\n\n/* 右侧表单 */\n.form-container {\n  flex: 1;\n  padding: 25px;\n  background-color: #ffffff;\n}\n\n/* 标题样式 */\n.title-container {\n  text-align: center;\n  margin-bottom: 25px;\n}\n\n.main-title {\n  font-size: 28px;\n  font-weight: 600;\n  margin: 0;\n  color: #5aaa95;\n}\n\n.sub-title {\n  font-size: 14px;\n  color: #88b04b;\n  margin: 5px 0 0;\n}\n\n/* 切换按钮 */\n.toggle-container {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 25px;\n}\n\n.toggle-container .el-button {\n  margin: 0 10px;\n  padding: 10px 25px;\n}\n\n/* 验证码容器 */\n.verify-code-container {\n  display: flex;\n}\n\n.verify-input {\n  flex: 1;\n  margin-right: 10px;\n}\n\n.valid-code {\n  width: 100px;\n  height: 38px;\n}\n\n.verify-btn {\n  width: 110px;\n}\n\n/* 底部链接 */\n.form-footer {\n  margin-top: 15px;\n  text-align: right;\n}\n\n.forget-link {\n  color: #88b04b;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.forget-link:hover {\n  color: #5aaa95;\n}\n\n/* 响应式调整 */\n@media (max-width: 768px) {\n  .login-card {\n    width: 95%;\n  }\n  \n  .card-content {\n    flex-direction: column;\n  }\n  \n  .login-image {\n    height: 200px;\n  }\n}\n\n/* 自定义Element UI样式 */\n::v-deep .el-button--primary {\n  background-color: #5aaa95;\n  border-color: #5aaa95;\n}\n\n::v-deep .el-button--primary:hover,\n::v-deep .el-button--primary:focus {\n  background-color: #7bbeaa;\n  border-color: #7bbeaa;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=b7180fe2&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=b7180fe2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7180fe2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","require","_v","isLoginActive","on","$event","switchMode","ref","loginForm","loginRules","model","value","username","callback","$$v","$set","expression","password","validCode","createValidCode","staticStyle","onLogin","toForget","registerForm","registerRules","email","code","sendDisabled","sendVerificationCode","_s","buttonContent","role","invitationCode","_e","onRegister","staticRenderFns","style","width","height","refreshCode","_l","codeList","item","index","key","getStyle","name","prop","event","props","type","String","default","length","Number","refresh","data","watch","createdCode","mounted","methods","len","chars","charsLen","i","rgb","Math","round","random","push","charAt","floor","color","fontSize","padding","transform","$emit","map","join","component","components","ValidCode","adminVitationCode","countdown","timer","emailCode","required","message","trigger","min","max","mode","$nextTick","$refs","clearValidate","request","post","then","res","$message","msg","setInterval","clearInterval","validate","valid","console","error","$router","path","query","registerUser","toLowerCase","showClose","sessionStorage","setItem","JSON","stringify","menuList","setRoutes","beforeDestroy"],"sourceRoot":""}