{"version":3,"file":"js/179.9ef1ea43.js","mappings":"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","sources":["webpack://pet/./src/views/Forget.vue","webpack://pet/src/views/Forget.vue","webpack://pet/./src/views/Forget.vue?6efc","webpack://pet/./src/views/Forget.vue?dd3e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{staticClass:\"reset-password-box\"},[_c('div',{staticClass:\"reset-password-title\"},[_c('h2',{staticClass:\"title-text\"},[_vm._v(\"找回密码\")])]),_c('el-form',{ref:\"resetForm\",attrs:{\"model\":_vm.resetForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"邮箱\"},model:{value:(_vm.resetForm.email),callback:function ($$v) {_vm.$set(_vm.resetForm, \"email\", $$v)},expression:\"resetForm.email\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-message\"})])],2)],1),_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('el-input',{staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"请输入邮箱验证码\",\"clearable\":\"\"},model:{value:(_vm.resetForm.code),callback:function ($$v) {_vm.$set(_vm.resetForm, \"code\", $$v)},expression:\"resetForm.code\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-chat-line-round\"})])],2),_c('el-button',{staticStyle:{\"height\":\"38px\",\"background-color\":\"blue\",\"border\":\"blue\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.disabled},on:{\"click\":_vm.sendVerificationCode}},[_vm._v(\" \"+_vm._s(_vm.buttonContent)+\" \")])],1)]),_c('el-form-item',{attrs:{\"prop\":\"newPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"设置新密码\"},model:{value:(_vm.resetForm.newPassword),callback:function ($$v) {_vm.$set(_vm.resetForm, \"newPassword\", $$v)},expression:\"resetForm.newPassword\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-lock\"})])],2)],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\",\"background-color\":\"blue\",\"border\":\"blue\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onResetPassword}},[_vm._v(\"提交\")])],1),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('div',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"#0f9876\"},on:{\"click\":_vm.back}},[_vm._v(\"返回\")])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-card class=\"reset-password-box\">\n        <div class=\"reset-password-title\">\n            <h2 class=\"title-text\">找回密码</h2>\n        </div>\n        <el-form ref=\"resetForm\" :model=\"resetForm\" :rules=\"rules\">\n            <el-form-item prop=\"email\">\n                <el-input v-model=\"resetForm.email\" placeholder=\"邮箱\">\n                    <template slot=\"prepend\">\n                        <i class=\"el-icon-message\"></i>\n                    </template>\n                </el-input>\n            </el-form-item>\n            <el-form-item prop=\"code\">\n                <div style=\"display: flex; align-items: center;\">\n                    <el-input v-model=\"resetForm.code\" placeholder=\"请输入邮箱验证码\" clearable\n                        style=\"flex-grow: 1; margin-right: 10px;\">\n                        <template slot=\"prepend\">\n                            <i class=\"el-icon-chat-line-round\"></i>\n                        </template>\n                    </el-input>\n                    <el-button type=\"primary\" size=\"small\" style=\"height: 38px;background-color: blue; border: blue;\" @click=\"sendVerificationCode\"\n                        :disabled=\"disabled\">\n                        {{ buttonContent }}\n                    </el-button>\n                </div>\n            </el-form-item>\n            <el-form-item prop=\"newPassword\">\n                <el-input type=\"password\" v-model=\"resetForm.newPassword\" placeholder=\"设置新密码\">\n                    <template slot=\"prepend\">\n                        <i class=\"el-icon-lock\"></i>\n                    </template>\n                </el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" style=\"width: 100%; background-color: blue; border: blue;\" @click=\"onResetPassword\">提交</el-button>\n            </el-form-item>\n            <div style=\"display: flex; justify-content: space-between;\">\n\n<div style=\"cursor: pointer;color: #0f9876;\" @click=\"back\">返回</div>\n</div>\n        </el-form>\n    </el-card>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n    name: 'ResetPassword',\n    data() {\n        return {\n            countdown: 0,\n            disabled: false,\n            timer: null,\n            emailCode: '',\n            buttonContent: '发送验证码',\n            resetForm: {\n                email: '',\n                code: '',\n                newPassword: '',\n            },\n            rules: {\n                email: [\n                    { required: true, message: '请输入邮箱', trigger: 'blur' },\n                    { type: 'email', message: '请输入有效的邮箱地址', trigger: 'blur' }\n                ],\n                code: [\n                    { required: true, message: '请输入验证码', trigger: 'blur' }\n                ],\n                newPassword: [\n                    { required: true, message: '请输入新密码', trigger: 'blur' },\n                    { min: 6, max: 20, message: '长度在 6 到 20 个字符', trigger: 'blur' }\n                ]\n            }\n        };\n    },\n    methods: {\n        back(){\n            this.$router.push(\"/login\");\n        },\n        sendVerificationCode() {\n            // 发送重置密码请求到后端\n            if (this.disabled) return; // 如果按钮已禁用，则不执行发送逻辑\n\n     \n            request.get(\"/email/findByEmail\",{\n                params: {\n                    email:this.resetForm.email\n                }\n            }).then(res => {\n                if (res.code == '0') {\n                    this.$message({\n                        type: 'success',\n                        message: \"验证码已发送到您的邮箱,请查收\"\n                    })\n                    this.emailCode = res.data;\n                } else {\n                    this.$message({\n                        type: 'error',\n                        message: res.msg\n                    })\n                    return\n                }\n            })\n            this.countdown = 60; // 设置倒计时为60秒\n            this.disabled = true; // 禁用按钮\n            this.buttonContent = `${this.countdown}秒后可重发`; // 更新按钮文本为倒计时\n\n            this.timer = setInterval(() => {\n                if (this.countdown > 0) {\n                    this.countdown--; // 每秒减少1秒\n                    this.buttonContent = `${this.countdown}秒后可重发`; // 更新按钮文本\n                } else {\n                    clearInterval(this.timer); // 清除定时器\n                    this.countdown = 0; // 重置倒计时\n                    this.disabled = false; // 启用按钮\n                    this.buttonContent = '发送验证码'; // 重置按钮文本\n                }\n            }, 1000);\n\n        \n    },\n    onResetPassword() {\n        this.$refs.resetForm.validate((valid) => {\n            if (valid) {\n                if (this.resetForm.code != this.emailCode) {\n                    this.$message({\n                        type: 'error',\n                        message: '验证码不正确'\n                    });\n                    return;\n                }\n                // 发送重置密码请求到后端\n                request.get(\"/user/forget\", {\n                    params: {\n                        email: this.resetForm.email,\n                        newPassword: this.resetForm.newPassword,\n\n                    },\n                }).then(res => {\n                    if (res.code == '0') {\n                        this.$message({\n                            type: 'success',\n                            message: \"密码重置成功\"\n                        });\n                        this.$router.push(\"/login\");\n                    } else {\n                        this.$message({\n                            type: 'error',\n                            message: res.msg\n                        });\n                    }\n                });\n            } else {\n                console.error('重置密码失败: 表单校验失败');\n                return false;\n            }\n        });\n    }\n},\nbeforeDestroy() {\n    clearInterval(this.timer);\n},\n  };\n</script>\n\n<style scoped>\n.reset-password-box {\n  width: 480px;\n  padding: 45px;\n  background: white;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n  border-radius: 20px;\n  transition: transform 0.3s ease;\n  position: relative;\n}\n\n.reset-password-box:hover {\n  transform: translateY(-5px);\n}\n\n.reset-password-title {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.title-text {\n  font-weight: bold;\n  color: #8e44ad;\n  font-size: 28px;\n  margin: 0;\n}\n\n/* 新增的图标和输入框样式 */\n/deep/ .el-input-group__prepend {\n  background: transparent !important;\n  border-right: none;\n  color: #8e44ad;\n  border-top-left-radius: 8px;\n  border-bottom-left-radius: 8px;\n  padding: 0 10px;\n}\n\n/deep/ .el-input-group__prepend i {\n  font-size: 16px;\n}\n\n/deep/ .el-input-group {\n  align-items: center;\n}\n\n/deep/ .el-input__inner {\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n  padding: 12px;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n/deep/ .el-input__inner:focus {\n  border-color: #8e44ad;\n  box-shadow: 0 0 0 2px rgba(142, 68, 173, 0.1);\n}\n\n/* 验证码输入框特殊样式 */\n.code-input-container {\n  display: flex;\n  align-items: center;\n}\n\n.code-input-container .el-input {\n  flex-grow: 1;\n  margin-right: 10px;\n}\n\n/* 按钮样式 */\n/deep/ .el-button--primary {\n  background-color: #8e44ad !important;\n  border-color: #8e44ad !important;\n  border-radius: 8px;\n  padding: 12px 20px;\n  transition: all 0.3s ease;\n}\n\n/deep/ .el-button--primary:hover {\n  background-color: #9b59b6 !important;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(142, 68, 173, 0.2);\n}\n\n/* 添加可爱的动物足迹装饰 */\n.reset-password-box::before {\n  content: '';\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  width: 30px;\n  height: 30px;\n  background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"%238e44ad\" d=\"M256 224c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 240c-52.9 0-96-43.1-96-96s43.1-96 96-96 96 43.1 96 96-43.1 96-96 96zm-58.7-161.3c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm117.4 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z\"/></svg>');\n  background-repeat: no-repeat;\n  opacity: 0.1;\n}\n\n/* 返回按钮样式 */\ndiv[style*=\"cursor: pointer\"] {\n  color: #8e44ad !important;\n  transition: all 0.3s ease;\n}\n\ndiv[style*=\"cursor: pointer\"]:hover {\n  color: #9b59b6 !important;\n  text-decoration: underline;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Forget.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Forget.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Forget.vue?vue&type=template&id=06f70cca&scoped=true\"\nimport script from \"./Forget.vue?vue&type=script&lang=js\"\nexport * from \"./Forget.vue?vue&type=script&lang=js\"\nimport style0 from \"./Forget.vue?vue&type=style&index=0&id=06f70cca&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06f70cca\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","ref","attrs","resetForm","rules","model","value","email","callback","$$v","$set","expression","slot","staticStyle","code","disabled","on","sendVerificationCode","_s","buttonContent","newPassword","onResetPassword","back","staticRenderFns","name","data","countdown","timer","emailCode","required","message","trigger","type","min","max","methods","$router","push","request","get","params","then","res","$message","msg","setInterval","clearInterval","$refs","validate","valid","console","error","beforeDestroy","component"],"sourceRoot":""}