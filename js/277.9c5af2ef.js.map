{"version":3,"file":"js/277.9c5af2ef.js","mappings":"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","sources":["webpack://pet/./src/views/CompleteInfo.vue","webpack://pet/src/views/CompleteInfo.vue","webpack://pet/./src/views/CompleteInfo.vue?66f6","webpack://pet/./src/views/CompleteInfo.vue?54f5"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"complete-info-wrapper\"},[_c('el-card',{staticClass:\"complete-info-card\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"header-icon\"},[_c('i',{staticClass:\"el-icon-edit\"})]),_c('h2',{staticClass:\"header-title\"},[_vm._v(\"完善个人信息\")]),_c('p',{staticClass:\"header-subtitle\"},[_vm._v(\"让我们了解您更多一点\")])]),_c('el-form',{ref:\"completeInfoForm\",attrs:{\"model\":_vm.completeInfoForm,\"rules\":_vm.rules,\"hide-required-asterisk\":true,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"头像：\",\"prop\":\"avatar\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.completeInfoForm.avatar)?_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.imgBaseUrl + '/' + _vm.completeInfoForm.avatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1)],1),_c('el-form-item',{attrs:{\"label\":\"姓名：\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入真实姓名\",\"prefix-icon\":\"el-icon-user\",\"round\":\"\"},model:{value:(_vm.completeInfoForm.name),callback:function ($$v) {_vm.$set(_vm.completeInfoForm, \"name\", $$v)},expression:\"completeInfoForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别：\",\"prop\":\"sex\"}},[_c('el-radio-group',{model:{value:(_vm.completeInfoForm.sex),callback:function ($$v) {_vm.$set(_vm.completeInfoForm, \"sex\", $$v)},expression:\"completeInfoForm.sex\"}},[_c('el-radio',{attrs:{\"label\":\"男\"}},[_c('i',{staticClass:\"el-icon-male\"}),_vm._v(\" 男 \")]),_c('el-radio',{attrs:{\"label\":\"女\"}},[_c('i',{staticClass:\"el-icon-female\"}),_vm._v(\" 女 \")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"电话：\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入电话号码\",\"prefix-icon\":\"el-icon-phone\",\"round\":\"\"},model:{value:(_vm.completeInfoForm.phone),callback:function ($$v) {_vm.$set(_vm.completeInfoForm, \"phone\", $$v)},expression:\"completeInfoForm.phone\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.onCompleteInfo}},[_vm._v(\" 提交信息 \")])],1)],1),_c('div',{staticClass:\"decoration\"},[_c('div',{staticClass:\"paw paw-1\"}),_c('div',{staticClass:\"paw paw-2\"})])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"complete-info-wrapper\">\n        <el-card class=\"complete-info-card\">\n            <div class=\"card-header\">\n                <div class=\"header-icon\">\n                    <i class=\"el-icon-edit\"></i>\n                </div>\n                <h2 class=\"header-title\">完善个人信息</h2>\n                <p class=\"header-subtitle\">让我们了解您更多一点</p>\n            </div>\n\n            <el-form \n                ref=\"completeInfoForm\" \n                :model=\"completeInfoForm\" \n                :rules=\"rules\" \n                :hide-required-asterisk=\"true\"\n                label-width=\"80px\"\n            >\n                <!-- 头像上传 -->\n                <el-form-item label=\"头像：\" prop=\"avatar\">\n                    <el-upload \n                        class=\"avatar-uploader\" \n                        :action=\"uploadUrl\" \n                        :show-file-list=\"false\"\n                        :on-success=\"handleAvatarSuccess\" \n                        :before-upload=\"beforeAvatarUpload\"\n                    >\n                        <el-image \n                            v-if=\"completeInfoForm.avatar\" \n                            :src=\"imgBaseUrl + '/' + completeInfoForm.avatar\" \n                            class=\"avatar\" \n                        />\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                    </el-upload>\n                </el-form-item>\n\n                <el-form-item label=\"姓名：\" prop=\"name\">\n                    <el-input \n                        v-model=\"completeInfoForm.name\" \n                        placeholder=\"请输入真实姓名\"\n                        prefix-icon=\"el-icon-user\"\n                        round\n                    />\n                </el-form-item>\n\n                <!-- 性别选择 -->\n                <el-form-item label=\"性别：\" prop=\"sex\">\n                    <el-radio-group v-model=\"completeInfoForm.sex\">\n                        <el-radio label=\"男\">\n                            <i class=\"el-icon-male\"></i> 男\n                        </el-radio>\n                        <el-radio label=\"女\">\n                            <i class=\"el-icon-female\"></i> 女\n                        </el-radio>\n                    </el-radio-group>\n                </el-form-item>\n\n                <!-- 电话号码 -->\n                <el-form-item label=\"电话：\" prop=\"phone\">\n                    <el-input \n                        v-model=\"completeInfoForm.phone\" \n                        placeholder=\"请输入电话号码\"\n                        prefix-icon=\"el-icon-phone\"\n                        round\n                    />\n                </el-form-item>\n\n                <!-- 提交按钮 -->\n                <el-form-item>\n                    <el-button type=\"primary\" style=\"width: 100%;\" round @click=\"onCompleteInfo\">\n                        提交信息\n                    </el-button>\n                </el-form-item>\n            </el-form>\n\n            <!-- 装饰元素 -->\n            <div class=\"decoration\">\n                <div class=\"paw paw-1\"></div>\n                <div class=\"paw paw-2\"></div>\n            </div>\n        </el-card>\n    </div>\n</template>\n\n<script>\nimport request from '@/utils/request';\nexport default {\n    name: 'CompleteInfo',\n\n    created() {\n        const registerUser = this.$route.query.registerUser;\n        if (registerUser) {\n            // 使用 Object.assign 或展开运算符复制对象\n            Object.assign(this.completeInfoForm, registerUser);\n        }\n    },\n    data() {\n        return {\n            imgBaseUrl: this.HOST,\n            uploadUrl: '/api/file/upload', // 假设的上传接口地址\n            fileList: [],\n            completeInfoForm: {\n                name: '', // 用户姓名\n                avatar: '', // 用户头像地址\n                sex: '男', // 性别，默认为男\n                phone: '' // 电话号码\n            },\n            rules: {\n                avatar: [\n                    { required: true, message: '请上传头像', trigger: 'change' }\n                ],\n                name: [\n                    { required: true, message: '请输入您的姓名', trigger: 'blur' },\n                    { min: 2, max: 5, message: '姓名长度在 2 到 5 个字符', trigger: 'blur' }\n                ],\n                sex: [\n                    { required: true, message: '请选择性别', trigger: 'change' }\n                ],\n                phone: [\n                    { required: true, message: '请输入电话号码', trigger: 'blur' },\n                    { pattern: /^1[3-9]\\d{9}$/, message: '电话号码格式不正确', trigger: 'blur' }\n                ]\n            }\n        };\n    },\n    methods: {\n        handleAvatarSuccess(res, file) {\n            // 头像上传成功后的回调\n            this.completeInfoForm.avatar = res.data\n        },\n        beforeAvatarUpload(file) {\n            // 头像上传前的校验\n            const isImage = file.type.match('image/jpeg|image/png');\n            const isLt2M = file.size / 1024 / 1024 < 2;\n            if (!isImage) {\n                this.$message.error('上传头像图片只能是 JPG 或 PNG 格式!');\n            }\n            if (!isLt2M) {\n                this.$message.error('上传头像图片大小不能超过 2MB!');\n            }\n            return isImage && isLt2M;\n        },\n        onCompleteInfo() {\n            this.$refs.completeInfoForm.validate((valid) => {\n                if (valid) {\n                    request.put(\"/user/\" + this.completeInfoForm.id, this.completeInfoForm).then(response => {\n                        if (response.code == '0') {\n                            this.$message({\n                                type: 'success',\n                                message: '信息保存成功!',\n                            })\n                            setTimeout(() => {\n                                this.$router.push({\n                                    path: '/login',\n                                });\n                            }, 1000);\n                        } else {\n                            this.$message({\n                                type: 'error',\n                                message: response.msg\n                            })\n                        }\n                    })\n                } else {\n                    console.error('信息提交失败: 表单校验失败');\n                    return false;\n                }\n            });\n        }\n    }\n};\n</script>\n\n<style scoped>\n.complete-info-wrapper {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 80vh;\n}\n\n.complete-info-card {\n    width: 450px;\n    border-radius: 15px;\n    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n    position: relative;\n    overflow: hidden;\n}\n\n.card-header {\n    text-align: center;\n    margin-bottom: 20px;\n    position: relative;\n}\n\n.header-icon {\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background: linear-gradient(135deg, #5aaa95, #88b04b);\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0 auto 15px;\n    font-size: 24px;\n}\n\n.header-title {\n    font-size: 22px;\n    font-weight: 600;\n    margin: 0;\n    color: #5aaa95;\n}\n\n.header-subtitle {\n    font-size: 14px;\n    color: #88b04b;\n    margin: 5px 0 0;\n}\n\n.avatar-uploader {\n    text-align: center;\n    display: flex;\n    justify-content: center;\n}\n\n.avatar {\n    width: 100px;\n    height: 100px;\n    display: block;\n    border-radius: 50%;\n    border: 3px solid #a8e6cf;\n}\n\n.avatar-uploader-icon {\n    font-size: 28px;\n    color: #a8e6cf;\n    width: 100px;\n    height: 100px;\n    line-height: 100px;\n    text-align: center;\n    border: 2px dashed #a8e6cf;\n    border-radius: 50%;\n}\n\n.avatar-uploader-icon:hover {\n    border-color: #5aaa95;\n    color: #5aaa95;\n}\n\n.el-radio {\n    margin-right: 20px;\n}\n\n.el-radio i {\n    margin-right: 5px;\n    color: #88b04b;\n}\n\n/* 装饰元素 */\n.decoration {\n    position: absolute;\n    bottom: 10px;\n    right: 10px;\n    opacity: 0.2;\n}\n\n.paw {\n    position: absolute;\n    background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M256 224c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 240c-52.9 0-96-43.1-96-96s43.1-96 96-96 96 43.1 96 96-43.1 96-96 96zm-58.7-161.3c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm117.4 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z\"/></svg>');\n    background-repeat: no-repeat;\n    background-size: contain;\n    width: 25px;\n    height: 25px;\n}\n\n.paw-1 {\n    right: 0;\n    bottom: 0;\n    transform: rotate(15deg);\n}\n\n.paw-2 {\n    right: 30px;\n    bottom: 10px;\n    transform: rotate(-10deg);\n}\n\n/* 自定义Element UI样式 */\n::v-deep .el-button--primary {\n    background-color: #5aaa95;\n    border-color: #5aaa95;\n}\n\n::v-deep .el-button--primary:hover,\n::v-deep .el-button--primary:focus {\n    background-color: #7bbeaa;\n    border-color: #7bbeaa;\n}\n\n::v-deep .el-input__inner {\n    border-color: #dcedc1;\n}\n\n::v-deep .el-input__inner:focus {\n    border-color: #88b04b;\n}\n\n::v-deep .el-input__prefix {\n    left: 10px;\n    color: #88b04b;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CompleteInfo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CompleteInfo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CompleteInfo.vue?vue&type=template&id=7b27c678&scoped=true\"\nimport script from \"./CompleteInfo.vue?vue&type=script&lang=js\"\nexport * from \"./CompleteInfo.vue?vue&type=script&lang=js\"\nimport style0 from \"./CompleteInfo.vue?vue&type=style&index=0&id=7b27c678&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b27c678\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","ref","attrs","completeInfoForm","rules","uploadUrl","handleAvatarSuccess","beforeAvatarUpload","avatar","imgBaseUrl","model","value","name","callback","$$v","$set","expression","sex","phone","staticStyle","on","onCompleteInfo","staticRenderFns","created","registerUser","$route","query","Object","assign","data","HOST","fileList","required","message","trigger","min","max","pattern","methods","res","file","isImage","type","match","isLt2M","size","$message","error","$refs","validate","valid","console","request","put","id","then","response","code","setTimeout","$router","push","path","msg","component"],"sourceRoot":""}